Balíček (složka): repositories
Cesta: C:\ProjektyPrace\HobbyHokej\backend\src\main\java\cz\phsoft\hokej\match\repositories

Seznam souborů:
MatchHistoryRepository.java
MatchRepository.java


-----
# Soubor: C:\ProjektyPrace\HobbyHokej\backend\src\main\java\cz\phsoft\hokej\match\repositories\MatchHistoryRepository.java
-----
package cz.phsoft.hokej.match.repositories;

import cz.phsoft.hokej.match.entities.MatchHistoryEntity;
import org.springframework.data.jpa.repository.JpaRepository;

import java.util.List;

/**
 * RepozitĂˇĹ™ pro ÄŤtenĂ­ historickĂ˝ch zĂˇznamĹŻ zĂˇpasĹŻ.
 *
 * SlouĹľĂ­ pro auditnĂ­ a pĹ™ehledovĂ© ĂşÄŤely. ZĂˇpis do historie
 * zajiĹˇĹĄujĂ­ databĂˇzovĂ© triggery, nikoliv tento repozitĂˇĹ™.
 */
public interface MatchHistoryRepository extends JpaRepository<MatchHistoryEntity, Long> {

    /**
     * VrĂˇtĂ­ vĹˇechny historickĂ© zĂˇznamy pro danĂ˝ zĂˇpas,
     * seĹ™azenĂ© od nejnovÄ›jĹˇĂ­ zmÄ›ny po nejstarĹˇĂ­.
     */
    List<MatchHistoryEntity> findByMatchIdOrderByChangedAtDesc(Long matchId);
}

-----
# Soubor: C:\ProjektyPrace\HobbyHokej\backend\src\main\java\cz\phsoft\hokej\match\repositories\MatchRepository.java
-----
package cz.phsoft.hokej.match.repositories;

import cz.phsoft.hokej.match.entities.MatchEntity;
import org.springframework.data.jpa.repository.JpaRepository;

import java.time.LocalDateTime;
import java.util.List;

/**
 * RepozitĂˇĹ™ pro prĂˇci s entitou MatchEntity.
 *
 * SlouĹľĂ­ k naÄŤĂ­tĂˇnĂ­ zĂˇpasĹŻ podle ÄŤasu konĂˇnĂ­ a sezĂłny,
 * zejmĂ©na pro pĹ™ehledy nadchĂˇzejĂ­cĂ­ch a odehranĂ˝ch zĂˇpasĹŻ.
 */
public interface MatchRepository extends JpaRepository<MatchEntity, Long> {

    // ZĂˇpasy podle data (nezĂˇvisle na sezĂłnÄ›)

    /**
     * VrĂˇtĂ­ vĹˇechny zĂˇpasy konajĂ­cĂ­ se po zadanĂ©m ÄŤase.
     *
     * ZĂˇpasy jsou seĹ™azeny vzestupnÄ› podle data a ÄŤasu konĂˇnĂ­,
     * nejbliĹľĹˇĂ­ zĂˇpas je na prvnĂ­m mĂ­stÄ›.
     *
     * @param dateTime referenÄŤnĂ­ datum a ÄŤas
     * @return seznam nadchĂˇzejĂ­cĂ­ch zĂˇpasĹŻ
     */
    List<MatchEntity> findByDateTimeAfterOrderByDateTimeAsc(LocalDateTime dateTime);

    /**
     * VrĂˇtĂ­ vĹˇechny zĂˇpasy konajĂ­cĂ­ se pĹ™ed zadanĂ˝m ÄŤasem.
     *
     * ZĂˇpasy jsou seĹ™azeny sestupnÄ› podle data a ÄŤasu konĂˇnĂ­,
     * nejnovÄ›jĹˇĂ­ odehranĂ˝ zĂˇpas je na prvnĂ­m mĂ­stÄ›.
     *
     * @param dateTime referenÄŤnĂ­ datum a ÄŤas
     * @return seznam odehranĂ˝ch zĂˇpasĹŻ
     */
    List<MatchEntity> findByDateTimeBeforeOrderByDateTimeDesc(LocalDateTime dateTime);

    // ZĂˇpasy v konkrĂ©tnĂ­ sezĂłnÄ›

    /**
     * VrĂˇtĂ­ vĹˇechny zĂˇpasy v danĂ© sezĂłnÄ› seĹ™azenĂ©
     * vzestupnÄ› podle data a ÄŤasu konĂˇnĂ­.
     *
     * @param seasonId ID sezĂłny
     * @return seznam zĂˇpasĹŻ v sezĂłnÄ›
     */
    List<MatchEntity> findAllBySeasonIdOrderByDateTimeAsc(Long seasonId);

    /**
     * VrĂˇtĂ­ vĹˇechny zĂˇpasy v danĂ© sezĂłnÄ› seĹ™azenĂ©
     * sestupnÄ› podle data a ÄŤasu konĂˇnĂ­.
     *
     * @param seasonId ID sezĂłny
     * @return seznam zĂˇpasĹŻ v sezĂłnÄ›
     */
    List<MatchEntity> findAllBySeasonIdOrderByDateTimeDesc(Long seasonId);

    // ZĂˇpasy v sezĂłnÄ› s ÄŤasovĂ˝m omezenĂ­m

    /**
     * VrĂˇtĂ­ zĂˇpasy v danĂ© sezĂłnÄ›, kterĂ© se konajĂ­
     * po zadanĂ©m ÄŤase.
     *
     * PouĹľĂ­vĂˇ se zejmĂ©na pro naÄŤĂ­tĂˇnĂ­ nadchĂˇzejĂ­cĂ­ch
     * zĂˇpasĹŻ v aktivnĂ­ sezĂłnÄ›.
     *
     * @param seasonId ID sezĂłny
     * @param from     referenÄŤnĂ­ datum a ÄŤas
     * @return seznam nadchĂˇzejĂ­cĂ­ch zĂˇpasĹŻ v sezĂłnÄ›
     */
    List<MatchEntity> findBySeasonIdAndDateTimeAfterOrderByDateTimeAsc(
            Long seasonId,
            LocalDateTime from
    );

    /**
     * VrĂˇtĂ­ zĂˇpasy v danĂ© sezĂłnÄ›, kterĂ© se konaly
     * pĹ™ed zadanĂ˝m ÄŤasem.
     *
     * PouĹľĂ­vĂˇ se zejmĂ©na pro pĹ™ehled odehranĂ˝ch
     * zĂˇpasĹŻ v sezĂłnÄ›.
     *
     * @param seasonId ID sezĂłny
     * @param to       referenÄŤnĂ­ datum a ÄŤas
     * @return seznam odehranĂ˝ch zĂˇpasĹŻ v sezĂłnÄ›
     */
    List<MatchEntity> findBySeasonIdAndDateTimeBeforeOrderByDateTimeDesc(
            Long seasonId,
            LocalDateTime to
    );

    List<MatchEntity> findByDateTimeBetween(LocalDateTime from, LocalDateTime to);
}
