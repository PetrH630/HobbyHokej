Balíček (složka): entities
Cesta: C:\ProjektyPrace\HobbyHokej\backend\src\main\java\cz\phsoft\hokej\match\entities

Seznam souborů:
MatchEntity.java
MatchHistoryEntity.java


-----
# Soubor: C:\ProjektyPrace\HobbyHokej\backend\src\main\java\cz\phsoft\hokej\match\entities\MatchEntity.java
-----
package cz.phsoft.hokej.match.entities;

import cz.phsoft.hokej.season.entities.SeasonEntity;
import cz.phsoft.hokej.match.enums.MatchCancelReason;
import cz.phsoft.hokej.match.enums.MatchMode;
import cz.phsoft.hokej.match.enums.MatchStatus;
import jakarta.persistence.*;

import java.time.LocalDateTime;

/**
 * Entita reprezentujĂ­cĂ­ hokejovĂ˝ zĂˇpas.
 *
 * UchovĂˇvĂˇ zĂˇkladnĂ­ informace o zĂˇpasu, jeho kapacitÄ›,
 * cenÄ›, aktuĂˇlnĂ­m stavu a vazbÄ› na sezĂłnu.
 * Informace o ĂşÄŤasti hrĂˇÄŤĹŻ jsou uloĹľeny v samostatnĂ© entitÄ›
 * MatchRegistrationEntity.
 *
 * Entita dĂˇle obsahuje auditnĂ­ Ăşdaje o vytvoĹ™enĂ­ a poslednĂ­
 * ĂşpravÄ› zĂˇpasu.
 */
@Entity
@Table(name = "matches")
public class MatchEntity {

    /**
     * PrimĂˇrnĂ­ klĂ­ÄŤ zĂˇpasu.
     */
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    /**
     * Datum a ÄŤas konĂˇnĂ­ zĂˇpasu.
     */
    @Column(nullable = false)
    private LocalDateTime dateTime;

    /**
     * MĂ­sto konĂˇnĂ­ zĂˇpasu.
     */
    @Column(nullable = false)
    private String location;

    /**
     * VolitelnĂ˝ popis zĂˇpasu.
     *
     * SlouĹľĂ­ napĹ™Ă­klad pro doplĹujĂ­cĂ­ informace o organizaci zĂˇpasu.
     */
    private String description;

    /**
     * MaximĂˇlnĂ­ poÄŤet hrĂˇÄŤĹŻ povolenĂ˝ch pro zĂˇpas.
     *
     * Hodnota se pouĹľĂ­vĂˇ pro kontrolu kapacity pĹ™i registraci hrĂˇÄŤĹŻ.
     */
    @Column(nullable = false)
    private Integer maxPlayers;

    /**
     * CelkovĂˇ cena zĂˇpasu.
     *
     * Hodnota mĹŻĹľe slouĹľit pro vĂ˝poÄŤet podĂ­lu jednotlivĂ˝ch hrĂˇÄŤĹŻ.
     */
    @Column(nullable = false)
    private Integer price;

    /**
     * AktuĂˇlnĂ­ stav zĂˇpasu.
     *
     * Stav urÄŤuje, zda je zĂˇpas plĂˇnovanĂ˝, zruĹˇenĂ˝ nebo napĹ™Ă­klad odehranĂ˝.
     */
    @Enumerated(EnumType.STRING)
    private MatchStatus matchStatus;

    /**
     * ReĹľim zĂˇpasu (poÄŤet hrĂˇÄŤĹŻ na ledÄ›, s brankĂˇĹ™em / bez brankĂˇĹ™e).
     * UklĂˇdĂˇ se jako textovĂˇ hodnota enumu.
     */
    @Enumerated(EnumType.STRING)
    @Column(name = "match_mode", nullable = false, length = 50)
    private MatchMode matchMode;

    /**
     * DĹŻvod zruĹˇenĂ­ zĂˇpasu.
     *
     * VyplĹuje se pouze v pĹ™Ă­padÄ›, Ĺľe je zĂˇpas zruĹˇen.
     */
    @Enumerated(EnumType.STRING)
    private MatchCancelReason cancelReason;

    /**
     * SezĂłna, do kterĂ© zĂˇpas patĹ™Ă­.
     *
     * KaĹľdĂ˝ zĂˇpas musĂ­ bĂ˝t pĹ™iĹ™azen k existujĂ­cĂ­ sezĂłnÄ›.
     */
    @ManyToOne(optional = false)
    @JoinColumn(name = "season_id", nullable = false)
    private SeasonEntity season;

    /**
     * ÄŚasovĂ© razĂ­tko zĂˇpasu.
     *
     * UchovĂˇvĂˇ datum a ÄŤas vytvoĹ™enĂ­ nebo poslednĂ­ zmÄ›ny zĂˇpasu.
     * Hodnota se aktualizuje pĹ™i kaĹľdĂ© zmÄ›nÄ› zĂˇznamu.
     */
    @Column(nullable = false, updatable = true)
    private LocalDateTime timestamp = LocalDateTime.now();

    /**
     * ID uĹľivatele, kterĂ˝ zĂˇpas vytvoĹ™il.
     *
     * SlouĹľĂ­ pro auditnĂ­ ĂşÄŤely.
     */
    @Column(name = "created_by_user_id")
    private Long createdByUserId;

    /**
     * ID uĹľivatele, kterĂ˝ zĂˇpas naposledy zmÄ›nil.
     *
     * SlouĹľĂ­ pro auditnĂ­ ĂşÄŤely a sledovĂˇnĂ­ odpovÄ›dnosti za zmÄ›ny.
     */
    @Column(name = "last_modified_by_user_id")
    private Long lastModifiedByUserId;



    /**
     * BezparametrickĂ˝ konstruktor poĹľadovanĂ˝ JPA.
     */
    public MatchEntity() {
    }

    public Long getId() { return id; }

    public void setId(Long id) { this.id = id; }

    public LocalDateTime getDateTime() { return dateTime; }

    public void setDateTime(LocalDateTime dateTime) { this.dateTime = dateTime; }

    public String getLocation() { return location; }

    public void setLocation(String location) { this.location = location; }

    public String getDescription() { return description; }

    public void setDescription(String description) { this.description = description; }

    public Integer getMaxPlayers() { return maxPlayers; }

    public void setMaxPlayers(Integer maxPlayers) { this.maxPlayers = maxPlayers; }

    public Integer getPrice() { return price; }

    public void setPrice(Integer price) { this.price = price; }

    public MatchStatus getMatchStatus() { return matchStatus; }

    public void setMatchStatus(MatchStatus matchStatus) { this.matchStatus = matchStatus; }

    public MatchCancelReason getCancelReason() { return cancelReason; }

    public void setCancelReason(MatchCancelReason cancelReason) { this.cancelReason = cancelReason; }

    public SeasonEntity getSeason() { return season; }

    public void setSeason(SeasonEntity season) { this.season = season; }

    public LocalDateTime getTimestamp() { return timestamp; }

    public void setTimestamp(LocalDateTime timestamp) { this.timestamp = timestamp; }

    public Long getCreatedByUserId() { return createdByUserId; }

    public void setCreatedByUserId(Long createdByUserId) { this.createdByUserId = createdByUserId; }

    public Long getLastModifiedByUserId() { return lastModifiedByUserId; }

    public void setLastModifiedByUserId(Long lastModifiedByUserId) { this.lastModifiedByUserId = lastModifiedByUserId; }

    public MatchMode getMatchMode() {
        return matchMode;
    }

    public void setMatchMode(MatchMode matchMode) {
        this.matchMode = matchMode;
    }
}

-----
# Soubor: C:\ProjektyPrace\HobbyHokej\backend\src\main\java\cz\phsoft\hokej\match\entities\MatchHistoryEntity.java
-----
package cz.phsoft.hokej.match.entities;

import cz.phsoft.hokej.match.enums.MatchCancelReason;
import cz.phsoft.hokej.match.enums.MatchStatus;
import cz.phsoft.hokej.match.enums.MatchMode;
import jakarta.persistence.*;

import java.time.LocalDateTime;

/**
 * Entita reprezentujĂ­cĂ­ historickĂ˝ zĂˇznam o zĂˇpasu.
 *
 * SlouĹľĂ­ pro auditnĂ­ ĂşÄŤely a uchovĂˇvĂˇnĂ­ zmÄ›n zĂˇpasĹŻ v ÄŤase.
 * KaĹľdĂ˝ zĂˇznam pĹ™edstavuje stav zĂˇpasu v okamĹľiku provedenĂ­ operace
 * nad hlavnĂ­ entitou MatchEntity.
 *
 * ZĂˇznamy jsou typicky vytvĂˇĹ™eny databĂˇzovĂ˝m triggerem pĹ™i operacĂ­ch
 * INSERT, UPDATE nebo DELETE.
 */
@Entity
@Table(name = "matches_history")
public class MatchHistoryEntity {

    /**
     * PrimĂˇrnĂ­ klĂ­ÄŤ historickĂ©ho zĂˇznamu.
     */
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    /**
     * Typ provedenĂ© operace nad zĂˇpasem.
     *
     * Typicky se jednĂˇ o hodnoty INSERT, UPDATE nebo DELETE.
     */
    @Column(name = "action", nullable = false)
    private String action;

    /**
     * Datum a ÄŤas provedenĂ­ zmÄ›ny.
     *
     * UdĂˇvĂˇ okamĹľik vytvoĹ™enĂ­ historickĂ©ho zĂˇznamu.
     */
    @Column(name = "changed_at", nullable = false)
    private LocalDateTime changedAt;

    /**
     * ID zĂˇpasu z hlavnĂ­ tabulky matches.
     *
     * SlouĹľĂ­ pro propojenĂ­ historickĂ©ho zĂˇznamu s pĹŻvodnĂ­ entitou zĂˇpasu.
     */
    @Column(name = "match_id", nullable = false)
    private Long matchId;

    /**
     * PĹŻvodnĂ­ ÄŤasovĂ© razĂ­tko zĂˇpasu.
     *
     * JednĂˇ se o hodnotu sloupce timestamp z MatchEntity
     * v okamĹľiku provedenĂ­ zmÄ›ny.
     */
    @Column(name = "original_timestamp", nullable = false)
    private LocalDateTime originalTimestamp;

    /**
     * Datum a ÄŤas konĂˇnĂ­ zĂˇpasu v okamĹľiku zmÄ›ny.
     */
    @Column(name = "date_time", nullable = false)
    private LocalDateTime dateTime;

    /**
     * MĂ­sto konĂˇnĂ­ zĂˇpasu v okamĹľiku zmÄ›ny.
     */
    @Column(name = "location", nullable = false)
    private String location;

    /**
     * Popis zĂˇpasu v okamĹľiku zmÄ›ny.
     */
    @Column(name = "description")
    private String description;

    /**
     * MaximĂˇlnĂ­ poÄŤet hrĂˇÄŤĹŻ povolenĂ˝ch pro zĂˇpas v okamĹľiku zmÄ›ny.
     */
    @Column(name = "max_players", nullable = false)
    private Integer maxPlayers;

    /**
     * Cena zĂˇpasu v okamĹľiku zmÄ›ny.
     */
    @Column(name = "price", nullable = false)
    private Integer price;

    /**
     * Stav zĂˇpasu v okamĹľiku zmÄ›ny.
     */
    @Enumerated(EnumType.STRING)
    @Column(name = "match_status")
    private MatchStatus matchStatus;

    /**
     * DĹŻvod zruĹˇenĂ­ zĂˇpasu v okamĹľiku zmÄ›ny.
     */
    @Enumerated(EnumType.STRING)
    @Column(name = "cancel_reason")
    private MatchCancelReason cancelReason;

    /**
     * ReĹľim zĂˇpasu v okamĹľiku zmÄ›ny.
     */
    @Enumerated(EnumType.STRING)
    @Column(name = "match_mode", nullable = false)
    private MatchMode matchMode;

    /**
     * ID sezĂłny, do kterĂ© zĂˇpas patĹ™il v okamĹľiku zmÄ›ny.
     */
    @Column(name = "season_id", nullable = false)
    private Long seasonId;

    /**
     * ID uĹľivatele, kterĂ˝ zĂˇpas pĹŻvodnÄ› vytvoĹ™il.
     */
    @Column(name = "created_by_user_id")
    private Long createdByUserId;

    /**
     * ID uĹľivatele, kterĂ˝ zĂˇpas naposledy zmÄ›nil pĹ™ed vytvoĹ™enĂ­m
     * historickĂ©ho zĂˇznamu.
     */
    @Column(name = "last_modified_by_user_id")
    private Long lastModifiedByUserId;

    /**
     * BezparametrickĂ˝ konstruktor poĹľadovanĂ˝ JPA.
     */
    public MatchHistoryEntity() {
    }

    public Long getId() { return id; }
    public void setId(Long id) { this.id = id; }

    public String getAction() { return action; }
    public void setAction(String action) { this.action = action; }

    public LocalDateTime getChangedAt() { return changedAt; }
    public void setChangedAt(LocalDateTime changedAt) { this.changedAt = changedAt; }

    public Long getMatchId() { return matchId; }
    public void setMatchId(Long matchId) { this.matchId = matchId; }

    public LocalDateTime getOriginalTimestamp() { return originalTimestamp; }
    public void setOriginalTimestamp(LocalDateTime originalTimestamp) { this.originalTimestamp = originalTimestamp; }

    public LocalDateTime getDateTime() { return dateTime; }
    public void setDateTime(LocalDateTime dateTime) { this.dateTime = dateTime; }

    public String getLocation() { return location; }
    public void setLocation(String location) { this.location = location; }

    public String getDescription() { return description; }
    public void setDescription(String description) { this.description = description; }

    public Integer getMaxPlayers() { return maxPlayers; }
    public void setMaxPlayers(Integer maxPlayers) { this.maxPlayers = maxPlayers; }

    public Integer getPrice() { return price; }
    public void setPrice(Integer price) { this.price = price; }

    public MatchStatus getMatchStatus() { return matchStatus; }
    public void setMatchStatus(MatchStatus matchStatus) { this.matchStatus = matchStatus; }

    public MatchCancelReason getCancelReason() { return cancelReason; }
    public void setCancelReason(MatchCancelReason cancelReason) { this.cancelReason = cancelReason; }

    public MatchMode getMatchMode() { return matchMode; }
    public void setMatchMode(MatchMode matchMode) { this.matchMode = matchMode; }

    public Long getSeasonId() { return seasonId; }
    public void setSeasonId(Long seasonId) { this.seasonId = seasonId; }

    public Long getCreatedByUserId() { return createdByUserId; }
    public void setCreatedByUserId(Long createdByUserId) { this.createdByUserId = createdByUserId; }

    public Long getLastModifiedByUserId() { return lastModifiedByUserId; }
    public void setLastModifiedByUserId(Long lastModifiedByUserId) { this.lastModifiedByUserId = lastModifiedByUserId; }
}
