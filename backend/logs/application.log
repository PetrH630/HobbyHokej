2026-01-26 08:36:26 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-01-26 08:36:26 [main] INFO  c.phsoft.hokej.StaraGardaApplication - Starting StaraGardaApplication using Java 19.0.2 with PID 4208 (C:\Projekty Práce\StaraGarda\backend\target\classes started by petrh in C:\Projekty Práce\StaraGarda)
2026-01-26 08:36:26 [main] DEBUG c.phsoft.hokej.StaraGardaApplication - Running with Spring Boot v3.2.2, Spring v6.1.3
2026-01-26 08:36:26 [main] INFO  c.phsoft.hokej.StaraGardaApplication - The following 1 profile is active: "dev"
2026-01-26 08:36:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-26 08:36:39 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 846 ms. Found 8 JPA repository interfaces.
2026-01-26 08:36:50 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-26 08:36:50 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-01-26 08:36:50 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-01-26 08:36:50 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.18]
2026-01-26 08:36:51 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-26 08:36:51 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 24288 ms
2026-01-26 08:36:52 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-26 08:36:53 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2026-01-26 08:36:53 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-26 08:36:54 [main] INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true
2026-01-26 08:36:54 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-26 08:36:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-26 08:36:55 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@3ff8a3ad
2026-01-26 08:36:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-26 08:36:55 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@165aa43a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@22cd8ec2)
2026-01-26 08:36:55 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7d977a20) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@35ab4260)
2026-01-26 08:36:55 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@76134b9b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@38667005)
2026-01-26 08:36:55 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7ee64b53) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1131aead)
2026-01-26 08:36:55 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7d126083) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@76ffc17c)
2026-01-26 08:36:55 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3a8fb023) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@26d73519)
2026-01-26 08:36:55 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@48af5f38) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@40538370)
2026-01-26 08:36:55 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@71a2df1) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@18faaff6)
2026-01-26 08:36:55 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2a9e754e) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@760a2b6e)
2026-01-26 08:36:58 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-26 08:36:58 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-26 08:36:59 [main] DEBUG c.p.h.security.CurrentPlayerFilter - Filter 'currentPlayerFilter' configured for use
2026-01-26 08:37:00 [main] DEBUG org.hibernate.SQL - 
    select
        aue1_0.id,
        aue1_0.email,
        aue1_0.enabled,
        aue1_0.name,
        aue1_0.password,
        aue1_0.role,
        aue1_0.surname 
    from
        app_users aue1_0 
    where
        aue1_0.email=?
2026-01-26 08:37:01 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        player_entity pe1_0
2026-01-26 08:37:01 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        season se1_0
2026-01-26 08:37:01 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        matches me1_0
2026-01-26 08:37:01 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        match_registrations mre1_0
2026-01-26 08:37:01 [main] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1359-HY000: Trigger 'stara_garda.trg_match_reg_insert' already exists
2026-01-26 08:37:01 [main] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1359-HY000: Trigger 'stara_garda.trg_match_reg_update' already exists
2026-01-26 08:37:01 [main] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1359-HY000: Trigger 'stara_garda.trg_match_reg_delete' already exists
2026-01-26 08:37:02 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-26 08:37:03 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6107b3cb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2179127d, org.springframework.security.web.context.SecurityContextHolderFilter@2b1f0667, org.springframework.security.web.header.HeaderWriterFilter@41a940a9, org.springframework.web.filter.CorsFilter@76d1acf9, org.springframework.security.web.authentication.logout.LogoutFilter@66e6e5e9, cz.phsoft.hokej.config.CustomJsonLoginFilter@196f9b75, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@27e25c2f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@56a7f57f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@452aea78, org.springframework.security.web.session.SessionManagementFilter@14bbfdee, org.springframework.security.web.access.ExceptionTranslationFilter@1849d35a, org.springframework.security.web.access.intercept.AuthorizationFilter@52d0a5fe]
2026-01-26 08:37:04 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-01-26 08:37:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2026-01-26 08:37:04 [main] INFO  c.phsoft.hokej.StaraGardaApplication - Started StaraGardaApplication in 43.965 seconds (process running for 50.844)
2026-01-26 08:42:19 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-26 08:42:19 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-26 08:42:19 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2026-01-26 08:42:19 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/login
2026-01-26 08:42:19 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        aue1_0.id,
        aue1_0.email,
        aue1_0.enabled,
        aue1_0.name,
        aue1_0.password,
        aue1_0.role,
        aue1_0.surname 
    from
        app_users aue1_0 
    where
        aue1_0.email=?
2026-01-26 08:42:19 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-01-26 08:42:20 [http-nio-8080-exec-1] WARN  o.a.c.util.SessionIdGeneratorBase - Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [356] milliseconds.
2026-01-26 08:42:30 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/login
2026-01-26 08:42:30 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        aue1_0.id,
        aue1_0.email,
        aue1_0.enabled,
        aue1_0.name,
        aue1_0.password,
        aue1_0.role,
        aue1_0.surname 
    from
        app_users aue1_0 
    where
        aue1_0.email=?
2026-01-26 08:42:30 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-01-26 08:42:30 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2026-01-26 08:42:39 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing PATCH /api/userst/4/activate
2026-01-26 08:42:39 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=227CCD20A4113CAE83A4806136ED1B84], Granted Authorities=[ROLE_ADMIN]]]
2026-01-26 08:42:39 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured PATCH /api/userst/4/activate
2026-01-26 08:42:50 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing PATCH /api/users/4/activate
2026-01-26 08:42:50 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=227CCD20A4113CAE83A4806136ED1B84], Granted Authorities=[ROLE_ADMIN]]]
2026-01-26 08:42:50 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured PATCH /api/users/4/activate
2026-01-26 08:42:51 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.controllers.AppUserController.activateUserByAdmin(java.lang.Long); target is of class [cz.phsoft.hokej.controllers.AppUserController]
2026-01-26 08:42:51 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.controllers.AppUserController.activateUserByAdmin(java.lang.Long); target is of class [cz.phsoft.hokej.controllers.AppUserController]
2026-01-26 08:42:51 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        aue1_0.id,
        aue1_0.email,
        aue1_0.enabled,
        aue1_0.name,
        aue1_0.password,
        aue1_0.role,
        aue1_0.surname 
    from
        app_users aue1_0 
    where
        aue1_0.id=?
2026-01-26 08:43:16 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing PATCH /api/users/4/deactivate
2026-01-26 08:43:16 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=227CCD20A4113CAE83A4806136ED1B84], Granted Authorities=[ROLE_ADMIN]]]
2026-01-26 08:43:16 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured PATCH /api/users/4/deactivate
2026-01-26 08:43:16 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.controllers.AppUserController.deactivateUserByAdmin(java.lang.Long); target is of class [cz.phsoft.hokej.controllers.AppUserController]
2026-01-26 08:43:16 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.controllers.AppUserController.deactivateUserByAdmin(java.lang.Long); target is of class [cz.phsoft.hokej.controllers.AppUserController]
2026-01-26 08:43:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        aue1_0.id,
        aue1_0.email,
        aue1_0.enabled,
        aue1_0.name,
        aue1_0.password,
        aue1_0.role,
        aue1_0.surname 
    from
        app_users aue1_0 
    where
        aue1_0.id=?
2026-01-26 08:43:17 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    update
        app_users 
    set
        email=?,
        enabled=?,
        name=?,
        password=?,
        role=?,
        surname=? 
    where
        id=?
2026-01-26 08:45:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/login
2026-01-26 08:45:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        aue1_0.id,
        aue1_0.email,
        aue1_0.enabled,
        aue1_0.name,
        aue1_0.password,
        aue1_0.role,
        aue1_0.surname 
    from
        app_users aue1_0 
    where
        aue1_0.email=?
2026-01-26 08:45:57 [http-nio-8080-exec-9] DEBUG o.s.s.a.DefaultAuthenticationEventPublisher - No event was found for the exception org.springframework.security.authentication.InternalAuthenticationServiceException
2026-01-26 08:45:57 [http-nio-8080-exec-9] ERROR c.p.h.config.CustomJsonLoginFilter - An internal error occurred while trying to authenticate the user.
org.springframework.security.authentication.InternalAuthenticationServiceException: BE - Nejprve musíte aktivovat účet pomocí odkazu v e-mailu.
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:118)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at cz.phsoft.hokej.config.CustomJsonLoginFilter.attemptAuthentication(CustomJsonLoginFilter.java:144)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:231)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:225)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1589)
Caused by: cz.phsoft.hokej.exceptions.AccountNotActivatedException: BE - Nejprve musíte aktivovat účet pomocí odkazu v e-mailu.
	at cz.phsoft.hokej.config.CustomUserDetailsService.loadUserByUsername(CustomUserDetailsService.java:89)
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:103)
	... 64 common frames omitted
2026-01-26 08:47:58 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/login
2026-01-26 08:47:58 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        aue1_0.id,
        aue1_0.email,
        aue1_0.enabled,
        aue1_0.name,
        aue1_0.password,
        aue1_0.role,
        aue1_0.surname 
    from
        app_users aue1_0 
    where
        aue1_0.email=?
2026-01-26 08:47:58 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-01-26 08:47:58 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=227CCD20A4113CAE83A4806136ED1B84], Granted Authorities=[ROLE_ADMIN]]]
2026-01-26 08:48:09 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing PATCH /api/users/4/deactivate
2026-01-26 08:48:09 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=227CCD20A4113CAE83A4806136ED1B84], Granted Authorities=[ROLE_ADMIN]]]
2026-01-26 08:48:09 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured PATCH /api/users/4/deactivate
2026-01-26 08:48:09 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.controllers.AppUserController.deactivateUserByAdmin(java.lang.Long); target is of class [cz.phsoft.hokej.controllers.AppUserController]
2026-01-26 08:48:09 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.controllers.AppUserController.deactivateUserByAdmin(java.lang.Long); target is of class [cz.phsoft.hokej.controllers.AppUserController]
2026-01-26 08:48:09 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        aue1_0.id,
        aue1_0.email,
        aue1_0.enabled,
        aue1_0.name,
        aue1_0.password,
        aue1_0.role,
        aue1_0.surname 
    from
        app_users aue1_0 
    where
        aue1_0.id=?
2026-01-26 08:48:15 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing PATCH /api/users/4/activate
2026-01-26 08:48:15 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=227CCD20A4113CAE83A4806136ED1B84], Granted Authorities=[ROLE_ADMIN]]]
2026-01-26 08:48:15 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured PATCH /api/users/4/activate
2026-01-26 08:48:15 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.controllers.AppUserController.activateUserByAdmin(java.lang.Long); target is of class [cz.phsoft.hokej.controllers.AppUserController]
2026-01-26 08:48:15 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.controllers.AppUserController.activateUserByAdmin(java.lang.Long); target is of class [cz.phsoft.hokej.controllers.AppUserController]
2026-01-26 08:48:15 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        aue1_0.id,
        aue1_0.email,
        aue1_0.enabled,
        aue1_0.name,
        aue1_0.password,
        aue1_0.role,
        aue1_0.surname 
    from
        app_users aue1_0 
    where
        aue1_0.id=?
2026-01-26 08:48:15 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    update
        app_users 
    set
        email=?,
        enabled=?,
        name=?,
        password=?,
        role=?,
        surname=? 
    where
        id=?
2026-01-26 08:48:25 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-26 08:48:25 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-01-26 08:48:25 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-01-26 09:42:52 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-01-26 09:42:52 [main] INFO  c.phsoft.hokej.StaraGardaApplication - Starting StaraGardaApplication using Java 19.0.2 with PID 12536 (C:\Projekty Práce\StaraGarda\backend\target\classes started by petrh in C:\Projekty Práce\StaraGarda)
2026-01-26 09:42:52 [main] DEBUG c.phsoft.hokej.StaraGardaApplication - Running with Spring Boot v3.2.2, Spring v6.1.3
2026-01-26 09:42:52 [main] INFO  c.phsoft.hokej.StaraGardaApplication - The following 1 profile is active: "dev"
2026-01-26 09:42:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-26 09:42:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 328 ms. Found 8 JPA repository interfaces.
2026-01-26 09:43:01 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-26 09:43:01 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-01-26 09:43:01 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-01-26 09:43:01 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.18]
2026-01-26 09:43:02 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-26 09:43:02 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 9645 ms
2026-01-26 09:43:03 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-26 09:43:05 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2026-01-26 09:43:05 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-26 09:43:05 [main] INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true
2026-01-26 09:43:06 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-26 09:43:06 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-26 09:43:06 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@12f8682a
2026-01-26 09:43:06 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-26 09:43:07 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@26d73519) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@48af5f38)
2026-01-26 09:43:07 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@40538370) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@71a2df1)
2026-01-26 09:43:07 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@18faaff6) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2a9e754e)
2026-01-26 09:43:07 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@760a2b6e) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@20a9f5fb)
2026-01-26 09:43:07 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6d617b07) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@340c57e0)
2026-01-26 09:43:07 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@137a4b54) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7c9372ed)
2026-01-26 09:43:07 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1acc873b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4ca970d5)
2026-01-26 09:43:07 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@dc8b2ff) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6a2badb1)
2026-01-26 09:43:07 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@14201a90) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1308ef19)
2026-01-26 09:43:10 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-26 09:43:10 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-26 09:43:11 [main] DEBUG c.p.h.security.CurrentPlayerFilter - Filter 'currentPlayerFilter' configured for use
2026-01-26 09:43:12 [main] DEBUG org.hibernate.SQL - 
    select
        aue1_0.id,
        aue1_0.email,
        aue1_0.enabled,
        aue1_0.name,
        aue1_0.password,
        aue1_0.role,
        aue1_0.surname 
    from
        app_users aue1_0 
    where
        aue1_0.email=?
2026-01-26 09:43:13 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        player_entity pe1_0
2026-01-26 09:43:13 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        season se1_0
2026-01-26 09:43:13 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        matches me1_0
2026-01-26 09:43:13 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        match_registrations mre1_0
2026-01-26 09:43:13 [main] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1359-HY000: Trigger 'stara_garda.trg_match_reg_insert' already exists
2026-01-26 09:43:13 [main] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1359-HY000: Trigger 'stara_garda.trg_match_reg_update' already exists
2026-01-26 09:43:13 [main] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1359-HY000: Trigger 'stara_garda.trg_match_reg_delete' already exists
2026-01-26 09:43:14 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-26 09:43:15 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7db53694, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@dc72335, org.springframework.security.web.context.SecurityContextHolderFilter@15d04c41, org.springframework.security.web.header.HeaderWriterFilter@3f3e6c03, org.springframework.web.filter.CorsFilter@4c2057c6, org.springframework.security.web.authentication.logout.LogoutFilter@71662b15, cz.phsoft.hokej.config.CustomJsonLoginFilter@7abc838a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4290332d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@740ddb41, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2ee91bdf, org.springframework.security.web.session.SessionManagementFilter@74c919b2, org.springframework.security.web.access.ExceptionTranslationFilter@636d4cdc, org.springframework.security.web.access.intercept.AuthorizationFilter@35be9318]
2026-01-26 09:43:16 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-01-26 09:43:16 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2026-01-26 09:43:16 [main] INFO  c.phsoft.hokej.StaraGardaApplication - Started StaraGardaApplication in 26.644 seconds (process running for 28.617)
2026-01-26 09:44:31 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-26 09:44:31 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-26 09:44:31 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2026-01-26 09:44:31 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/login
2026-01-26 09:44:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        aue1_0.id,
        aue1_0.email,
        aue1_0.enabled,
        aue1_0.name,
        aue1_0.password,
        aue1_0.role,
        aue1_0.surname 
    from
        app_users aue1_0 
    where
        aue1_0.email=?
2026-01-26 09:44:31 [http-nio-8080-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-01-26 09:44:32 [http-nio-8080-exec-2] WARN  o.a.c.util.SessionIdGeneratorBase - Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [156] milliseconds.
2026-01-26 09:44:43 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/players/admin/6/change-user
2026-01-26 09:44:44 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2026-01-26 09:44:44 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/players/admin/6/change-user
2026-01-26 09:46:02 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/players/admin/6/change-user
2026-01-26 09:46:02 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2026-01-26 09:46:02 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/players/admin/6/change-user
2026-01-26 09:47:18 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2026-01-26 09:47:18 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2026-01-26 09:47:18 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2026-01-26 09:47:18 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.util.List cz.phsoft.hokej.controllers.AppUserController.getAllUsers(); target is of class [cz.phsoft.hokej.controllers.AppUserController]
2026-01-26 09:47:18 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.util.List cz.phsoft.hokej.controllers.AppUserController.getAllUsers(); target is of class [cz.phsoft.hokej.controllers.AppUserController]
2026-01-26 09:47:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        aue1_0.id,
        aue1_0.email,
        aue1_0.enabled,
        aue1_0.name,
        aue1_0.password,
        aue1_0.role,
        aue1_0.surname 
    from
        app_users aue1_0
2026-01-26 09:47:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.user_id,
        p1_0.id,
        p1_0.full_name,
        p1_0.name,
        p1_0.nickname,
        p1_0.email_enabled,
        p1_0.sms_enabled,
        p1_0.phone_number,
        p1_0.player_status,
        p1_0.surname,
        p1_0.team,
        p1_0.type 
    from
        player_entity p1_0 
    where
        p1_0.user_id=?
2026-01-26 09:47:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.user_id,
        p1_0.id,
        p1_0.full_name,
        p1_0.name,
        p1_0.nickname,
        p1_0.email_enabled,
        p1_0.sms_enabled,
        p1_0.phone_number,
        p1_0.player_status,
        p1_0.surname,
        p1_0.team,
        p1_0.type 
    from
        player_entity p1_0 
    where
        p1_0.user_id=?
2026-01-26 09:47:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.user_id,
        p1_0.id,
        p1_0.full_name,
        p1_0.name,
        p1_0.nickname,
        p1_0.email_enabled,
        p1_0.sms_enabled,
        p1_0.phone_number,
        p1_0.player_status,
        p1_0.surname,
        p1_0.team,
        p1_0.type 
    from
        player_entity p1_0 
    where
        p1_0.user_id=?
2026-01-26 09:47:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.user_id,
        p1_0.id,
        p1_0.full_name,
        p1_0.name,
        p1_0.nickname,
        p1_0.email_enabled,
        p1_0.sms_enabled,
        p1_0.phone_number,
        p1_0.player_status,
        p1_0.surname,
        p1_0.team,
        p1_0.type 
    from
        player_entity p1_0 
    where
        p1_0.user_id=?
2026-01-26 09:47:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.user_id,
        p1_0.id,
        p1_0.full_name,
        p1_0.name,
        p1_0.nickname,
        p1_0.email_enabled,
        p1_0.sms_enabled,
        p1_0.phone_number,
        p1_0.player_status,
        p1_0.surname,
        p1_0.team,
        p1_0.type 
    from
        player_entity p1_0 
    where
        p1_0.user_id=?
2026-01-26 09:47:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.user_id,
        p1_0.id,
        p1_0.full_name,
        p1_0.name,
        p1_0.nickname,
        p1_0.email_enabled,
        p1_0.sms_enabled,
        p1_0.phone_number,
        p1_0.player_status,
        p1_0.surname,
        p1_0.team,
        p1_0.type 
    from
        player_entity p1_0 
    where
        p1_0.user_id=?
2026-01-26 09:47:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.user_id,
        p1_0.id,
        p1_0.full_name,
        p1_0.name,
        p1_0.nickname,
        p1_0.email_enabled,
        p1_0.sms_enabled,
        p1_0.phone_number,
        p1_0.player_status,
        p1_0.surname,
        p1_0.team,
        p1_0.type 
    from
        player_entity p1_0 
    where
        p1_0.user_id=?
2026-01-26 09:47:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.user_id,
        p1_0.id,
        p1_0.full_name,
        p1_0.name,
        p1_0.nickname,
        p1_0.email_enabled,
        p1_0.sms_enabled,
        p1_0.phone_number,
        p1_0.player_status,
        p1_0.surname,
        p1_0.team,
        p1_0.type 
    from
        player_entity p1_0 
    where
        p1_0.user_id=?
2026-01-26 09:47:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.user_id,
        p1_0.id,
        p1_0.full_name,
        p1_0.name,
        p1_0.nickname,
        p1_0.email_enabled,
        p1_0.sms_enabled,
        p1_0.phone_number,
        p1_0.player_status,
        p1_0.surname,
        p1_0.team,
        p1_0.type 
    from
        player_entity p1_0 
    where
        p1_0.user_id=?
2026-01-26 09:47:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.user_id,
        p1_0.id,
        p1_0.full_name,
        p1_0.name,
        p1_0.nickname,
        p1_0.email_enabled,
        p1_0.sms_enabled,
        p1_0.phone_number,
        p1_0.player_status,
        p1_0.surname,
        p1_0.team,
        p1_0.type 
    from
        player_entity p1_0 
    where
        p1_0.user_id=?
2026-01-26 09:47:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.user_id,
        p1_0.id,
        p1_0.full_name,
        p1_0.name,
        p1_0.nickname,
        p1_0.email_enabled,
        p1_0.sms_enabled,
        p1_0.phone_number,
        p1_0.player_status,
        p1_0.surname,
        p1_0.team,
        p1_0.type 
    from
        player_entity p1_0 
    where
        p1_0.user_id=?
2026-01-26 09:47:26 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/players/admin
2026-01-26 09:47:26 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2026-01-26 09:47:26 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/players/admin
2026-01-26 09:47:26 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.util.List cz.phsoft.hokej.controllers.AdminPlayerController.getAllPlayers(); target is of class [cz.phsoft.hokej.controllers.AdminPlayerController]
2026-01-26 09:47:26 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.util.List cz.phsoft.hokej.controllers.AdminPlayerController.getAllPlayers(); target is of class [cz.phsoft.hokej.controllers.AdminPlayerController]
2026-01-26 09:47:26 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.full_name,
        pe1_0.name,
        pe1_0.nickname,
        pe1_0.email_enabled,
        pe1_0.sms_enabled,
        pe1_0.phone_number,
        pe1_0.player_status,
        pe1_0.surname,
        pe1_0.team,
        pe1_0.type,
        pe1_0.user_id 
    from
        player_entity pe1_0
2026-01-26 09:47:39 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/players/admin/6/change-user
2026-01-26 09:47:39 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2026-01-26 09:47:39 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/players/admin/6/change-user
2026-01-26 09:53:00 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/players/admin/6/change-user
2026-01-26 09:53:00 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2026-01-26 09:53:00 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/players/admin/6/change-user
2026-01-26 09:54:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/players/admin/6/change-user
2026-01-26 09:54:21 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2026-01-26 09:54:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/players/admin/6/change-user
2026-01-26 09:55:33 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/players/admin/6/change-user
2026-01-26 09:55:33 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2026-01-26 09:55:33 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/players/admin/6/change-user
2026-01-26 10:00:06 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-26 10:00:06 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-01-26 10:00:06 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-01-26 10:00:59 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-01-26 10:00:59 [main] INFO  c.phsoft.hokej.StaraGardaApplication - Starting StaraGardaApplication using Java 19.0.2 with PID 15436 (C:\Projekty Práce\StaraGarda\backend\target\classes started by petrh in C:\Projekty Práce\StaraGarda)
2026-01-26 10:00:59 [main] DEBUG c.phsoft.hokej.StaraGardaApplication - Running with Spring Boot v3.2.2, Spring v6.1.3
2026-01-26 10:00:59 [main] INFO  c.phsoft.hokej.StaraGardaApplication - The following 1 profile is active: "dev"
2026-01-26 10:01:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-26 10:01:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 320 ms. Found 8 JPA repository interfaces.
2026-01-26 10:01:05 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-26 10:01:05 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-01-26 10:01:05 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-01-26 10:01:05 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.18]
2026-01-26 10:01:05 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-26 10:01:05 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5883 ms
2026-01-26 10:01:06 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-26 10:01:06 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2026-01-26 10:01:06 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-26 10:01:06 [main] INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true
2026-01-26 10:01:07 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-26 10:01:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-26 10:01:07 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@79b7c350
2026-01-26 10:01:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-26 10:01:07 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@340c57e0) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@137a4b54)
2026-01-26 10:01:07 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7c9372ed) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1acc873b)
2026-01-26 10:01:07 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4ca970d5) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@dc8b2ff)
2026-01-26 10:01:07 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6a2badb1) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@14201a90)
2026-01-26 10:01:07 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1308ef19) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5b1ff8cd)
2026-01-26 10:01:07 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6cee903a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@780ee3ad)
2026-01-26 10:01:07 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2c2aab92) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@857f74a)
2026-01-26 10:01:07 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@10a0d93a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1f3c5308)
2026-01-26 10:01:07 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@66b31d46) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@51e94b7d)
2026-01-26 10:01:10 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-26 10:01:11 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-26 10:01:12 [main] DEBUG c.p.h.security.CurrentPlayerFilter - Filter 'currentPlayerFilter' configured for use
2026-01-26 10:01:12 [main] DEBUG org.hibernate.SQL - 
    select
        aue1_0.id,
        aue1_0.email,
        aue1_0.enabled,
        aue1_0.name,
        aue1_0.password,
        aue1_0.role,
        aue1_0.surname 
    from
        app_users aue1_0 
    where
        aue1_0.email=?
2026-01-26 10:01:13 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        player_entity pe1_0
2026-01-26 10:01:13 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        season se1_0
2026-01-26 10:01:13 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        matches me1_0
2026-01-26 10:01:13 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        match_registrations mre1_0
2026-01-26 10:01:13 [main] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1359-HY000: Trigger 'stara_garda.trg_match_reg_insert' already exists
2026-01-26 10:01:13 [main] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1359-HY000: Trigger 'stara_garda.trg_match_reg_update' already exists
2026-01-26 10:01:13 [main] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1359-HY000: Trigger 'stara_garda.trg_match_reg_delete' already exists
2026-01-26 10:01:14 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-26 10:01:15 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2c62f56f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@65f270e7, org.springframework.security.web.context.SecurityContextHolderFilter@73c21b13, org.springframework.security.web.header.HeaderWriterFilter@63a833c5, org.springframework.web.filter.CorsFilter@417f7d7f, org.springframework.security.web.authentication.logout.LogoutFilter@57642552, cz.phsoft.hokej.config.CustomJsonLoginFilter@da09b52, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1964a3f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@654ab198, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3652ce04, org.springframework.security.web.session.SessionManagementFilter@4f7b4953, org.springframework.security.web.access.ExceptionTranslationFilter@4290332d, org.springframework.security.web.access.intercept.AuthorizationFilter@4a6dd88e]
2026-01-26 10:01:16 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-01-26 10:01:16 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2026-01-26 10:01:16 [main] INFO  c.phsoft.hokej.StaraGardaApplication - Started StaraGardaApplication in 17.969 seconds (process running for 19.227)
2026-01-26 10:02:26 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-26 10:02:26 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-26 10:02:26 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2026-01-26 10:02:26 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/login
2026-01-26 10:02:27 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        aue1_0.id,
        aue1_0.email,
        aue1_0.enabled,
        aue1_0.name,
        aue1_0.password,
        aue1_0.role,
        aue1_0.surname 
    from
        app_users aue1_0 
    where
        aue1_0.email=?
2026-01-26 10:02:27 [http-nio-8080-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-01-26 10:02:27 [http-nio-8080-exec-2] WARN  o.a.c.util.SessionIdGeneratorBase - Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [122] milliseconds.
2026-01-26 10:02:35 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/players/admin/6/change-user
2026-01-26 10:02:35 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2026-01-26 10:02:35 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/players/admin/6/change-user
2026-01-26 10:03:59 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/players/admin/6/change-user
2026-01-26 10:03:59 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2026-01-26 10:03:59 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/players/admin/6/change-user
2026-01-26 10:04:07 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-26 10:04:07 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-01-26 10:04:08 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-01-26 10:04:19 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-01-26 10:04:19 [main] INFO  c.phsoft.hokej.StaraGardaApplication - Starting StaraGardaApplication using Java 19.0.2 with PID 8484 (C:\Projekty Práce\StaraGarda\backend\target\classes started by petrh in C:\Projekty Práce\StaraGarda)
2026-01-26 10:04:19 [main] DEBUG c.phsoft.hokej.StaraGardaApplication - Running with Spring Boot v3.2.2, Spring v6.1.3
2026-01-26 10:04:19 [main] INFO  c.phsoft.hokej.StaraGardaApplication - The following 1 profile is active: "dev"
2026-01-26 10:04:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-26 10:04:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 318 ms. Found 8 JPA repository interfaces.
2026-01-26 10:04:25 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-26 10:04:25 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-01-26 10:04:25 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-01-26 10:04:25 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.18]
2026-01-26 10:04:25 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-26 10:04:25 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5947 ms
2026-01-26 10:04:26 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-26 10:04:26 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2026-01-26 10:04:26 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-26 10:04:26 [main] INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true
2026-01-26 10:04:27 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-26 10:04:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-26 10:04:27 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@1c171746
2026-01-26 10:04:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-26 10:04:27 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6d617b07) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@340c57e0)
2026-01-26 10:04:27 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@137a4b54) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7c9372ed)
2026-01-26 10:04:27 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1acc873b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4ca970d5)
2026-01-26 10:04:27 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@dc8b2ff) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6a2badb1)
2026-01-26 10:04:27 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@14201a90) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1308ef19)
2026-01-26 10:04:27 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5b1ff8cd) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6cee903a)
2026-01-26 10:04:27 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@780ee3ad) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2c2aab92)
2026-01-26 10:04:27 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@857f74a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@10a0d93a)
2026-01-26 10:04:27 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1f3c5308) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@66b31d46)
2026-01-26 10:04:30 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-26 10:04:30 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-26 10:04:31 [main] DEBUG c.p.h.security.CurrentPlayerFilter - Filter 'currentPlayerFilter' configured for use
2026-01-26 10:04:32 [main] DEBUG org.hibernate.SQL - 
    select
        aue1_0.id,
        aue1_0.email,
        aue1_0.enabled,
        aue1_0.name,
        aue1_0.password,
        aue1_0.role,
        aue1_0.surname 
    from
        app_users aue1_0 
    where
        aue1_0.email=?
2026-01-26 10:04:33 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        player_entity pe1_0
2026-01-26 10:04:33 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        season se1_0
2026-01-26 10:04:33 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        matches me1_0
2026-01-26 10:04:33 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        match_registrations mre1_0
2026-01-26 10:04:33 [main] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1359-HY000: Trigger 'stara_garda.trg_match_reg_insert' already exists
2026-01-26 10:04:33 [main] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1359-HY000: Trigger 'stara_garda.trg_match_reg_update' already exists
2026-01-26 10:04:33 [main] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1359-HY000: Trigger 'stara_garda.trg_match_reg_delete' already exists
2026-01-26 10:04:34 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-26 10:04:35 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2ee91bdf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a034bbc, org.springframework.security.web.context.SecurityContextHolderFilter@63a833c5, org.springframework.security.web.header.HeaderWriterFilter@35307365, org.springframework.web.filter.CorsFilter@5453b15d, org.springframework.security.web.authentication.logout.LogoutFilter@2179127d, cz.phsoft.hokej.config.CustomJsonLoginFilter@4a6dd88e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f7b4953, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5536542e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2c3c05ff, org.springframework.security.web.session.SessionManagementFilter@2968d3c0, org.springframework.security.web.access.ExceptionTranslationFilter@74c919b2, org.springframework.security.web.access.intercept.AuthorizationFilter@4c2057c6]
2026-01-26 10:04:36 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-01-26 10:04:36 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2026-01-26 10:04:36 [main] INFO  c.phsoft.hokej.StaraGardaApplication - Started StaraGardaApplication in 18.317 seconds (process running for 19.559)
2026-01-26 10:06:35 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-26 10:06:35 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-26 10:06:35 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2026-01-26 10:06:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/login
2026-01-26 10:06:35 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        aue1_0.id,
        aue1_0.email,
        aue1_0.enabled,
        aue1_0.name,
        aue1_0.password,
        aue1_0.role,
        aue1_0.surname 
    from
        app_users aue1_0 
    where
        aue1_0.email=?
2026-01-26 10:06:35 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-01-26 10:06:36 [http-nio-8080-exec-1] WARN  o.a.c.util.SessionIdGeneratorBase - Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [101] milliseconds.
2026-01-26 10:06:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/players/admin/6/change-user
2026-01-26 10:06:42 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2026-01-26 10:06:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/players/admin/6/change-user
2026-01-26 10:06:43 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.controllers.AdminPlayerController.changePlayerUser(java.lang.Long,cz.phsoft.hokej.models.dto.requests.ChangePlayerUserRequest); target is of class [cz.phsoft.hokej.controllers.AdminPlayerController]
2026-01-26 10:06:43 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.controllers.AdminPlayerController.changePlayerUser(java.lang.Long,cz.phsoft.hokej.models.dto.requests.ChangePlayerUserRequest); target is of class [cz.phsoft.hokej.controllers.AdminPlayerController]
2026-01-26 10:06:43 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.full_name,
        pe1_0.name,
        pe1_0.nickname,
        pe1_0.email_enabled,
        pe1_0.sms_enabled,
        pe1_0.phone_number,
        pe1_0.player_status,
        pe1_0.surname,
        pe1_0.team,
        pe1_0.type,
        pe1_0.user_id 
    from
        player_entity pe1_0 
    where
        pe1_0.id=?
2026-01-26 10:06:43 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        aue1_0.id,
        aue1_0.email,
        aue1_0.enabled,
        aue1_0.name,
        aue1_0.password,
        aue1_0.role,
        aue1_0.surname 
    from
        app_users aue1_0 
    where
        aue1_0.id=?
2026-01-26 10:06:43 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    update
        player_entity 
    set
        full_name=?,
        name=?,
        nickname=?,
        email_enabled=?,
        sms_enabled=?,
        phone_number=?,
        player_status=?,
        surname=?,
        team=?,
        type=?,
        user_id=? 
    where
        id=?
2026-01-26 10:07:13 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/players/admin/6/change-user
2026-01-26 10:07:13 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2026-01-26 10:07:13 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/players/admin/6/change-user
2026-01-26 10:07:13 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.controllers.AdminPlayerController.changePlayerUser(java.lang.Long,cz.phsoft.hokej.models.dto.requests.ChangePlayerUserRequest); target is of class [cz.phsoft.hokej.controllers.AdminPlayerController]
2026-01-26 10:07:13 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.controllers.AdminPlayerController.changePlayerUser(java.lang.Long,cz.phsoft.hokej.models.dto.requests.ChangePlayerUserRequest); target is of class [cz.phsoft.hokej.controllers.AdminPlayerController]
2026-01-26 10:07:13 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.full_name,
        pe1_0.name,
        pe1_0.nickname,
        pe1_0.email_enabled,
        pe1_0.sms_enabled,
        pe1_0.phone_number,
        pe1_0.player_status,
        pe1_0.surname,
        pe1_0.team,
        pe1_0.type,
        pe1_0.user_id 
    from
        player_entity pe1_0 
    where
        pe1_0.id=?
2026-01-26 10:07:13 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        aue1_0.id,
        aue1_0.email,
        aue1_0.enabled,
        aue1_0.name,
        aue1_0.password,
        aue1_0.role,
        aue1_0.surname 
    from
        app_users aue1_0 
    where
        aue1_0.id=?
2026-01-26 10:07:13 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    update
        player_entity 
    set
        full_name=?,
        name=?,
        nickname=?,
        email_enabled=?,
        sms_enabled=?,
        phone_number=?,
        player_status=?,
        surname=?,
        team=?,
        type=?,
        user_id=? 
    where
        id=?
2026-01-26 10:09:16 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-26 10:09:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-01-26 10:09:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-01-26 10:09:28 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-01-26 10:09:28 [main] INFO  c.phsoft.hokej.StaraGardaApplication - Starting StaraGardaApplication using Java 19.0.2 with PID 5300 (C:\Projekty Práce\StaraGarda\backend\target\classes started by petrh in C:\Projekty Práce\StaraGarda)
2026-01-26 10:09:28 [main] DEBUG c.phsoft.hokej.StaraGardaApplication - Running with Spring Boot v3.2.2, Spring v6.1.3
2026-01-26 10:09:28 [main] INFO  c.phsoft.hokej.StaraGardaApplication - The following 1 profile is active: "dev"
2026-01-26 10:09:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-26 10:09:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 334 ms. Found 8 JPA repository interfaces.
2026-01-26 10:09:34 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-26 10:09:34 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-01-26 10:09:34 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-01-26 10:09:34 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.18]
2026-01-26 10:09:35 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-26 10:09:35 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 6132 ms
2026-01-26 10:09:35 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-26 10:09:35 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2026-01-26 10:09:36 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-26 10:09:36 [main] INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true
2026-01-26 10:09:36 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-26 10:09:37 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-26 10:09:37 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@685e6a68
2026-01-26 10:09:37 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-26 10:09:37 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1acc873b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4ca970d5)
2026-01-26 10:09:37 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@dc8b2ff) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6a2badb1)
2026-01-26 10:09:37 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@14201a90) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1308ef19)
2026-01-26 10:09:37 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5b1ff8cd) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6cee903a)
2026-01-26 10:09:37 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@780ee3ad) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2c2aab92)
2026-01-26 10:09:37 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@857f74a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@10a0d93a)
2026-01-26 10:09:37 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1f3c5308) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@66b31d46)
2026-01-26 10:09:37 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@51e94b7d) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@47162173)
2026-01-26 10:09:37 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3a4f8e8a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4468fda8)
2026-01-26 10:09:40 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-26 10:09:40 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-26 10:09:41 [main] DEBUG c.p.h.security.CurrentPlayerFilter - Filter 'currentPlayerFilter' configured for use
2026-01-26 10:09:42 [main] DEBUG org.hibernate.SQL - 
    select
        aue1_0.id,
        aue1_0.email,
        aue1_0.enabled,
        aue1_0.name,
        aue1_0.password,
        aue1_0.role,
        aue1_0.surname 
    from
        app_users aue1_0 
    where
        aue1_0.email=?
2026-01-26 10:09:42 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        player_entity pe1_0
2026-01-26 10:09:42 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        season se1_0
2026-01-26 10:09:42 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        matches me1_0
2026-01-26 10:09:42 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        match_registrations mre1_0
2026-01-26 10:09:42 [main] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1359-HY000: Trigger 'stara_garda.trg_match_reg_insert' already exists
2026-01-26 10:09:42 [main] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1359-HY000: Trigger 'stara_garda.trg_match_reg_update' already exists
2026-01-26 10:09:42 [main] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1359-HY000: Trigger 'stara_garda.trg_match_reg_delete' already exists
2026-01-26 10:09:43 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-26 10:09:44 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@40d1e561, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7afffc81, org.springframework.security.web.context.SecurityContextHolderFilter@57ab5033, org.springframework.security.web.header.HeaderWriterFilter@73c21b13, org.springframework.web.filter.CorsFilter@730c9287, org.springframework.security.web.authentication.logout.LogoutFilter@2ad39f2f, cz.phsoft.hokej.config.CustomJsonLoginFilter@530e500c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54a98439, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4b20b431, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1c3b4de1, org.springframework.security.web.session.SessionManagementFilter@1964a3f, org.springframework.security.web.access.ExceptionTranslationFilter@5536542e, org.springframework.security.web.access.intercept.AuthorizationFilter@da09b52]
2026-01-26 10:09:45 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-01-26 10:09:45 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2026-01-26 10:09:45 [main] INFO  c.phsoft.hokej.StaraGardaApplication - Started StaraGardaApplication in 18.627 seconds (process running for 19.858)
2026-01-26 10:09:51 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-26 10:09:51 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-26 10:09:51 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2026-01-26 10:09:51 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/login
2026-01-26 10:09:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        aue1_0.id,
        aue1_0.email,
        aue1_0.enabled,
        aue1_0.name,
        aue1_0.password,
        aue1_0.role,
        aue1_0.surname 
    from
        app_users aue1_0 
    where
        aue1_0.email=?
2026-01-26 10:09:52 [http-nio-8080-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-01-26 10:09:52 [http-nio-8080-exec-2] WARN  o.a.c.util.SessionIdGeneratorBase - Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [103] milliseconds.
2026-01-26 10:10:04 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/players/admin/6/change-user
2026-01-26 10:10:04 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2026-01-26 10:10:04 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/players/admin/6/change-user
2026-01-26 10:10:05 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.controllers.AdminPlayerController.changePlayerUser(java.lang.Long,cz.phsoft.hokej.models.dto.requests.ChangePlayerUserRequest); target is of class [cz.phsoft.hokej.controllers.AdminPlayerController]
2026-01-26 10:10:05 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.controllers.AdminPlayerController.changePlayerUser(java.lang.Long,cz.phsoft.hokej.models.dto.requests.ChangePlayerUserRequest); target is of class [cz.phsoft.hokej.controllers.AdminPlayerController]
2026-01-26 10:10:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.full_name,
        pe1_0.name,
        pe1_0.nickname,
        pe1_0.email_enabled,
        pe1_0.sms_enabled,
        pe1_0.phone_number,
        pe1_0.player_status,
        pe1_0.surname,
        pe1_0.team,
        pe1_0.type,
        pe1_0.user_id 
    from
        player_entity pe1_0 
    where
        pe1_0.id=?
2026-01-26 10:10:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        aue1_0.id,
        aue1_0.email,
        aue1_0.enabled,
        aue1_0.name,
        aue1_0.password,
        aue1_0.role,
        aue1_0.surname 
    from
        app_users aue1_0 
    where
        aue1_0.id=?
2026-01-26 10:10:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/players/admin/6/change-user
2026-01-26 10:10:18 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2026-01-26 10:10:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/players/admin/6/change-user
2026-01-26 10:10:18 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.controllers.AdminPlayerController.changePlayerUser(java.lang.Long,cz.phsoft.hokej.models.dto.requests.ChangePlayerUserRequest); target is of class [cz.phsoft.hokej.controllers.AdminPlayerController]
2026-01-26 10:10:18 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.controllers.AdminPlayerController.changePlayerUser(java.lang.Long,cz.phsoft.hokej.models.dto.requests.ChangePlayerUserRequest); target is of class [cz.phsoft.hokej.controllers.AdminPlayerController]
2026-01-26 10:10:18 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.full_name,
        pe1_0.name,
        pe1_0.nickname,
        pe1_0.email_enabled,
        pe1_0.sms_enabled,
        pe1_0.phone_number,
        pe1_0.player_status,
        pe1_0.surname,
        pe1_0.team,
        pe1_0.type,
        pe1_0.user_id 
    from
        player_entity pe1_0 
    where
        pe1_0.id=?
2026-01-26 10:10:18 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        aue1_0.id,
        aue1_0.email,
        aue1_0.enabled,
        aue1_0.name,
        aue1_0.password,
        aue1_0.role,
        aue1_0.surname 
    from
        app_users aue1_0 
    where
        aue1_0.id=?
2026-01-26 10:10:24 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/players/admin/21/change-user
2026-01-26 10:10:24 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2026-01-26 10:10:24 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/players/admin/21/change-user
2026-01-26 10:10:24 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.controllers.AdminPlayerController.changePlayerUser(java.lang.Long,cz.phsoft.hokej.models.dto.requests.ChangePlayerUserRequest); target is of class [cz.phsoft.hokej.controllers.AdminPlayerController]
2026-01-26 10:10:24 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.controllers.AdminPlayerController.changePlayerUser(java.lang.Long,cz.phsoft.hokej.models.dto.requests.ChangePlayerUserRequest); target is of class [cz.phsoft.hokej.controllers.AdminPlayerController]
2026-01-26 10:10:24 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.full_name,
        pe1_0.name,
        pe1_0.nickname,
        pe1_0.email_enabled,
        pe1_0.sms_enabled,
        pe1_0.phone_number,
        pe1_0.player_status,
        pe1_0.surname,
        pe1_0.team,
        pe1_0.type,
        pe1_0.user_id 
    from
        player_entity pe1_0 
    where
        pe1_0.id=?
2026-01-26 10:10:31 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/players/admin/6/change-user
2026-01-26 10:10:31 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2026-01-26 10:10:31 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/players/admin/6/change-user
2026-01-26 10:10:31 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.controllers.AdminPlayerController.changePlayerUser(java.lang.Long,cz.phsoft.hokej.models.dto.requests.ChangePlayerUserRequest); target is of class [cz.phsoft.hokej.controllers.AdminPlayerController]
2026-01-26 10:10:31 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.controllers.AdminPlayerController.changePlayerUser(java.lang.Long,cz.phsoft.hokej.models.dto.requests.ChangePlayerUserRequest); target is of class [cz.phsoft.hokej.controllers.AdminPlayerController]
2026-01-26 10:10:31 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.full_name,
        pe1_0.name,
        pe1_0.nickname,
        pe1_0.email_enabled,
        pe1_0.sms_enabled,
        pe1_0.phone_number,
        pe1_0.player_status,
        pe1_0.surname,
        pe1_0.team,
        pe1_0.type,
        pe1_0.user_id 
    from
        player_entity pe1_0 
    where
        pe1_0.id=?
2026-01-26 10:10:31 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        aue1_0.id,
        aue1_0.email,
        aue1_0.enabled,
        aue1_0.name,
        aue1_0.password,
        aue1_0.role,
        aue1_0.surname 
    from
        app_users aue1_0 
    where
        aue1_0.id=?
2026-01-26 10:10:37 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/players/admin/6/change-user
2026-01-26 10:10:37 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2026-01-26 10:10:37 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/players/admin/6/change-user
2026-01-26 10:10:37 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.controllers.AdminPlayerController.changePlayerUser(java.lang.Long,cz.phsoft.hokej.models.dto.requests.ChangePlayerUserRequest); target is of class [cz.phsoft.hokej.controllers.AdminPlayerController]
2026-01-26 10:10:37 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.controllers.AdminPlayerController.changePlayerUser(java.lang.Long,cz.phsoft.hokej.models.dto.requests.ChangePlayerUserRequest); target is of class [cz.phsoft.hokej.controllers.AdminPlayerController]
2026-01-26 10:10:37 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.full_name,
        pe1_0.name,
        pe1_0.nickname,
        pe1_0.email_enabled,
        pe1_0.sms_enabled,
        pe1_0.phone_number,
        pe1_0.player_status,
        pe1_0.surname,
        pe1_0.team,
        pe1_0.type,
        pe1_0.user_id 
    from
        player_entity pe1_0 
    where
        pe1_0.id=?
2026-01-26 10:10:37 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        aue1_0.id,
        aue1_0.email,
        aue1_0.enabled,
        aue1_0.name,
        aue1_0.password,
        aue1_0.role,
        aue1_0.surname 
    from
        app_users aue1_0 
    where
        aue1_0.id=?
2026-01-26 10:10:37 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    update
        player_entity 
    set
        full_name=?,
        name=?,
        nickname=?,
        email_enabled=?,
        sms_enabled=?,
        phone_number=?,
        player_status=?,
        surname=?,
        team=?,
        type=?,
        user_id=? 
    where
        id=?
2026-01-26 10:10:48 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/players/admin/6/change-user
2026-01-26 10:10:48 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2026-01-26 10:10:48 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/players/admin/6/change-user
2026-01-26 10:10:48 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.controllers.AdminPlayerController.changePlayerUser(java.lang.Long,cz.phsoft.hokej.models.dto.requests.ChangePlayerUserRequest); target is of class [cz.phsoft.hokej.controllers.AdminPlayerController]
2026-01-26 10:10:48 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.controllers.AdminPlayerController.changePlayerUser(java.lang.Long,cz.phsoft.hokej.models.dto.requests.ChangePlayerUserRequest); target is of class [cz.phsoft.hokej.controllers.AdminPlayerController]
2026-01-26 10:10:48 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.full_name,
        pe1_0.name,
        pe1_0.nickname,
        pe1_0.email_enabled,
        pe1_0.sms_enabled,
        pe1_0.phone_number,
        pe1_0.player_status,
        pe1_0.surname,
        pe1_0.team,
        pe1_0.type,
        pe1_0.user_id 
    from
        player_entity pe1_0 
    where
        pe1_0.id=?
2026-01-26 10:10:48 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        aue1_0.id,
        aue1_0.email,
        aue1_0.enabled,
        aue1_0.name,
        aue1_0.password,
        aue1_0.role,
        aue1_0.surname 
    from
        app_users aue1_0 
    where
        aue1_0.id=?
2026-01-26 10:10:48 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    update
        player_entity 
    set
        full_name=?,
        name=?,
        nickname=?,
        email_enabled=?,
        sms_enabled=?,
        phone_number=?,
        player_status=?,
        surname=?,
        team=?,
        type=?,
        user_id=? 
    where
        id=?
2026-01-26 10:11:10 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-26 10:11:10 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-01-26 10:11:10 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-01-26 10:44:33 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-01-26 10:44:33 [main] INFO  c.phsoft.hokej.StaraGardaApplication - Starting StaraGardaApplication using Java 19.0.2 with PID 816 (C:\Projekty Práce\StaraGarda\backend\target\classes started by petrh in C:\Projekty Práce\StaraGarda)
2026-01-26 10:44:33 [main] DEBUG c.phsoft.hokej.StaraGardaApplication - Running with Spring Boot v3.2.2, Spring v6.1.3
2026-01-26 10:44:33 [main] INFO  c.phsoft.hokej.StaraGardaApplication - The following 1 profile is active: "dev"
2026-01-26 10:44:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-26 10:44:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 296 ms. Found 8 JPA repository interfaces.
2026-01-26 10:44:40 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-26 10:44:40 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-01-26 10:44:40 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-01-26 10:44:40 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.18]
2026-01-26 10:44:40 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-26 10:44:40 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 6546 ms
2026-01-26 10:44:41 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-26 10:44:41 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2026-01-26 10:44:41 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-26 10:44:42 [main] INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true
2026-01-26 10:44:42 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-26 10:44:43 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-26 10:44:43 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@12f8682a
2026-01-26 10:44:43 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-26 10:44:43 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@26d73519) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@48af5f38)
2026-01-26 10:44:43 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@40538370) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@71a2df1)
2026-01-26 10:44:43 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@18faaff6) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2a9e754e)
2026-01-26 10:44:43 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@760a2b6e) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@20a9f5fb)
2026-01-26 10:44:43 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6d617b07) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@340c57e0)
2026-01-26 10:44:43 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@137a4b54) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7c9372ed)
2026-01-26 10:44:43 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1acc873b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4ca970d5)
2026-01-26 10:44:43 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@dc8b2ff) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6a2badb1)
2026-01-26 10:44:43 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@14201a90) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1308ef19)
2026-01-26 10:44:47 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-26 10:44:47 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-26 10:44:49 [main] DEBUG c.p.h.security.CurrentPlayerFilter - Filter 'currentPlayerFilter' configured for use
2026-01-26 10:44:50 [main] DEBUG org.hibernate.SQL - 
    select
        aue1_0.id,
        aue1_0.email,
        aue1_0.enabled,
        aue1_0.name,
        aue1_0.password,
        aue1_0.role,
        aue1_0.surname 
    from
        app_users aue1_0 
    where
        aue1_0.email=?
2026-01-26 10:44:50 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        player_entity pe1_0
2026-01-26 10:44:50 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        season se1_0
2026-01-26 10:44:50 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        matches me1_0
2026-01-26 10:44:50 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        match_registrations mre1_0
2026-01-26 10:44:50 [main] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1359-HY000: Trigger 'stara_garda.trg_match_reg_insert' already exists
2026-01-26 10:44:51 [main] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1359-HY000: Trigger 'stara_garda.trg_match_reg_update' already exists
2026-01-26 10:44:51 [main] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1359-HY000: Trigger 'stara_garda.trg_match_reg_delete' already exists
2026-01-26 10:44:52 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-26 10:44:53 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7db53694, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@dc72335, org.springframework.security.web.context.SecurityContextHolderFilter@15d04c41, org.springframework.security.web.header.HeaderWriterFilter@3f3e6c03, org.springframework.web.filter.CorsFilter@4c2057c6, org.springframework.security.web.authentication.logout.LogoutFilter@71662b15, cz.phsoft.hokej.config.CustomJsonLoginFilter@7abc838a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4290332d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@740ddb41, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2ee91bdf, org.springframework.security.web.session.SessionManagementFilter@74c919b2, org.springframework.security.web.access.ExceptionTranslationFilter@636d4cdc, org.springframework.security.web.access.intercept.AuthorizationFilter@35be9318]
2026-01-26 10:44:53 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-01-26 10:44:54 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2026-01-26 10:44:54 [main] INFO  c.phsoft.hokej.StaraGardaApplication - Started StaraGardaApplication in 22.584 seconds (process running for 24.168)
2026-01-26 10:45:06 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-26 10:45:06 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-26 10:45:06 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2026-01-26 10:45:06 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/login
2026-01-26 10:45:07 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        aue1_0.id,
        aue1_0.email,
        aue1_0.enabled,
        aue1_0.name,
        aue1_0.password,
        aue1_0.role,
        aue1_0.surname 
    from
        app_users aue1_0 
    where
        aue1_0.email=?
2026-01-26 10:45:07 [http-nio-8080-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-01-26 10:45:07 [http-nio-8080-exec-2] WARN  o.a.c.util.SessionIdGeneratorBase - Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [182] milliseconds.
2026-01-26 10:45:25 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/matchDetail/11
2026-01-26 10:45:25 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2026-01-26 10:45:25 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/matchDetail/11
2026-01-26 10:45:25 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.models.dto.MatchDetailDTO cz.phsoft.hokej.controllers.MatchController.getMatchDetail(java.lang.Long); target is of class [cz.phsoft.hokej.controllers.MatchController]
2026-01-26 10:45:25 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.models.dto.MatchDetailDTO cz.phsoft.hokej.controllers.MatchController.getMatchDetail(java.lang.Long); target is of class [cz.phsoft.hokej.controllers.MatchController]
2026-01-26 10:45:25 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        me1_0.id,
        me1_0.cancel_reason,
        me1_0.date_time,
        me1_0.description,
        me1_0.location,
        me1_0.match_status,
        me1_0.max_players,
        me1_0.price,
        me1_0.season_id,
        s1_0.id,
        s1_0.active,
        s1_0.end_date,
        s1_0.name,
        s1_0.start_date 
    from
        matches me1_0 
    join
        season s1_0 
            on s1_0.id=me1_0.season_id 
    where
        me1_0.id=?
2026-01-26 10:45:25 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        mre1_0.id,
        mre1_0.admin_note,
        mre1_0.created_by,
        mre1_0.excuse_note,
        mre1_0.excuse_reason,
        mre1_0.match_id,
        mre1_0.player_id,
        mre1_0.status,
        mre1_0.team,
        mre1_0.timestamp 
    from
        match_registrations mre1_0 
    left join
        matches m1_0 
            on m1_0.id=mre1_0.match_id 
    where
        m1_0.id=?
2026-01-26 10:45:25 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.full_name,
        pe1_0.name,
        pe1_0.nickname,
        pe1_0.email_enabled,
        pe1_0.sms_enabled,
        pe1_0.phone_number,
        pe1_0.player_status,
        pe1_0.surname,
        pe1_0.team,
        pe1_0.type,
        pe1_0.user_id 
    from
        player_entity pe1_0 
    where
        pe1_0.id=?
2026-01-26 10:45:25 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        mre1_0.id,
        mre1_0.admin_note,
        mre1_0.created_by,
        mre1_0.excuse_note,
        mre1_0.excuse_reason,
        mre1_0.match_id,
        mre1_0.player_id,
        mre1_0.status,
        mre1_0.team,
        mre1_0.timestamp 
    from
        match_registrations mre1_0 
    left join
        matches m1_0 
            on m1_0.id=mre1_0.match_id 
    where
        m1_0.id=?
2026-01-26 10:45:25 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.full_name,
        pe1_0.name,
        pe1_0.nickname,
        pe1_0.email_enabled,
        pe1_0.sms_enabled,
        pe1_0.phone_number,
        pe1_0.player_status,
        pe1_0.surname,
        pe1_0.team,
        pe1_0.type,
        pe1_0.user_id 
    from
        player_entity pe1_0
2026-01-26 10:45:25 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        mre1_0.id,
        mre1_0.admin_note,
        mre1_0.created_by,
        mre1_0.excuse_note,
        mre1_0.excuse_reason,
        mre1_0.match_id,
        mre1_0.player_id,
        mre1_0.status,
        mre1_0.team,
        mre1_0.timestamp 
    from
        match_registrations mre1_0 
    left join
        player_entity p1_0 
            on p1_0.id=mre1_0.player_id 
    left join
        matches m1_0 
            on m1_0.id=mre1_0.match_id 
    where
        p1_0.id is null 
        and m1_0.id=?
2026-01-26 10:46:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/matchDetail/11
2026-01-26 10:46:20 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2026-01-26 10:46:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/matchDetail/11
2026-01-26 10:46:20 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.models.dto.MatchDetailDTO cz.phsoft.hokej.controllers.MatchController.getMatchDetail(java.lang.Long); target is of class [cz.phsoft.hokej.controllers.MatchController]
2026-01-26 10:46:20 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.models.dto.MatchDetailDTO cz.phsoft.hokej.controllers.MatchController.getMatchDetail(java.lang.Long); target is of class [cz.phsoft.hokej.controllers.MatchController]
2026-01-26 10:46:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        me1_0.id,
        me1_0.cancel_reason,
        me1_0.date_time,
        me1_0.description,
        me1_0.location,
        me1_0.match_status,
        me1_0.max_players,
        me1_0.price,
        me1_0.season_id,
        s1_0.id,
        s1_0.active,
        s1_0.end_date,
        s1_0.name,
        s1_0.start_date 
    from
        matches me1_0 
    join
        season s1_0 
            on s1_0.id=me1_0.season_id 
    where
        me1_0.id=?
2026-01-26 10:46:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        mre1_0.id,
        mre1_0.admin_note,
        mre1_0.created_by,
        mre1_0.excuse_note,
        mre1_0.excuse_reason,
        mre1_0.match_id,
        mre1_0.player_id,
        mre1_0.status,
        mre1_0.team,
        mre1_0.timestamp 
    from
        match_registrations mre1_0 
    left join
        matches m1_0 
            on m1_0.id=mre1_0.match_id 
    where
        m1_0.id=?
2026-01-26 10:46:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.full_name,
        pe1_0.name,
        pe1_0.nickname,
        pe1_0.email_enabled,
        pe1_0.sms_enabled,
        pe1_0.phone_number,
        pe1_0.player_status,
        pe1_0.surname,
        pe1_0.team,
        pe1_0.type,
        pe1_0.user_id 
    from
        player_entity pe1_0 
    where
        pe1_0.id=?
2026-01-26 10:46:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        mre1_0.id,
        mre1_0.admin_note,
        mre1_0.created_by,
        mre1_0.excuse_note,
        mre1_0.excuse_reason,
        mre1_0.match_id,
        mre1_0.player_id,
        mre1_0.status,
        mre1_0.team,
        mre1_0.timestamp 
    from
        match_registrations mre1_0 
    left join
        matches m1_0 
            on m1_0.id=mre1_0.match_id 
    where
        m1_0.id=?
2026-01-26 10:46:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.full_name,
        pe1_0.name,
        pe1_0.nickname,
        pe1_0.email_enabled,
        pe1_0.sms_enabled,
        pe1_0.phone_number,
        pe1_0.player_status,
        pe1_0.surname,
        pe1_0.team,
        pe1_0.type,
        pe1_0.user_id 
    from
        player_entity pe1_0
2026-01-26 10:46:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        mre1_0.id,
        mre1_0.admin_note,
        mre1_0.created_by,
        mre1_0.excuse_note,
        mre1_0.excuse_reason,
        mre1_0.match_id,
        mre1_0.player_id,
        mre1_0.status,
        mre1_0.team,
        mre1_0.timestamp 
    from
        match_registrations mre1_0 
    left join
        player_entity p1_0 
            on p1_0.id=mre1_0.player_id 
    left join
        matches m1_0 
            on m1_0.id=mre1_0.match_id 
    where
        p1_0.id is null 
        and m1_0.id=?
2026-01-26 10:49:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/matchDetail/11
2026-01-26 10:49:12 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2026-01-26 10:49:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/matchDetail/11
2026-01-26 10:49:12 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.models.dto.MatchDetailDTO cz.phsoft.hokej.controllers.MatchController.getMatchDetail(java.lang.Long); target is of class [cz.phsoft.hokej.controllers.MatchController]
2026-01-26 10:49:12 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.models.dto.MatchDetailDTO cz.phsoft.hokej.controllers.MatchController.getMatchDetail(java.lang.Long); target is of class [cz.phsoft.hokej.controllers.MatchController]
2026-01-26 10:49:12 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        me1_0.id,
        me1_0.cancel_reason,
        me1_0.date_time,
        me1_0.description,
        me1_0.location,
        me1_0.match_status,
        me1_0.max_players,
        me1_0.price,
        me1_0.season_id,
        s1_0.id,
        s1_0.active,
        s1_0.end_date,
        s1_0.name,
        s1_0.start_date 
    from
        matches me1_0 
    join
        season s1_0 
            on s1_0.id=me1_0.season_id 
    where
        me1_0.id=?
2026-01-26 10:49:12 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        mre1_0.id,
        mre1_0.admin_note,
        mre1_0.created_by,
        mre1_0.excuse_note,
        mre1_0.excuse_reason,
        mre1_0.match_id,
        mre1_0.player_id,
        mre1_0.status,
        mre1_0.team,
        mre1_0.timestamp 
    from
        match_registrations mre1_0 
    left join
        matches m1_0 
            on m1_0.id=mre1_0.match_id 
    where
        m1_0.id=?
2026-01-26 10:49:12 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.full_name,
        pe1_0.name,
        pe1_0.nickname,
        pe1_0.email_enabled,
        pe1_0.sms_enabled,
        pe1_0.phone_number,
        pe1_0.player_status,
        pe1_0.surname,
        pe1_0.team,
        pe1_0.type,
        pe1_0.user_id 
    from
        player_entity pe1_0 
    where
        pe1_0.id=?
2026-01-26 10:49:12 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        mre1_0.id,
        mre1_0.admin_note,
        mre1_0.created_by,
        mre1_0.excuse_note,
        mre1_0.excuse_reason,
        mre1_0.match_id,
        mre1_0.player_id,
        mre1_0.status,
        mre1_0.team,
        mre1_0.timestamp 
    from
        match_registrations mre1_0 
    left join
        matches m1_0 
            on m1_0.id=mre1_0.match_id 
    where
        m1_0.id=?
2026-01-26 10:49:12 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.full_name,
        pe1_0.name,
        pe1_0.nickname,
        pe1_0.email_enabled,
        pe1_0.sms_enabled,
        pe1_0.phone_number,
        pe1_0.player_status,
        pe1_0.surname,
        pe1_0.team,
        pe1_0.type,
        pe1_0.user_id 
    from
        player_entity pe1_0
2026-01-26 10:49:12 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        mre1_0.id,
        mre1_0.admin_note,
        mre1_0.created_by,
        mre1_0.excuse_note,
        mre1_0.excuse_reason,
        mre1_0.match_id,
        mre1_0.player_id,
        mre1_0.status,
        mre1_0.team,
        mre1_0.timestamp 
    from
        match_registrations mre1_0 
    left join
        player_entity p1_0 
            on p1_0.id=mre1_0.player_id 
    left join
        matches m1_0 
            on m1_0.id=mre1_0.match_id 
    where
        p1_0.id is null 
        and m1_0.id=?
2026-01-26 10:57:04 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/matchDetail/11
2026-01-26 10:57:04 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2026-01-26 10:57:04 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/matchDetail/11
2026-01-26 10:57:04 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.models.dto.MatchDetailDTO cz.phsoft.hokej.controllers.MatchController.getMatchDetail(java.lang.Long); target is of class [cz.phsoft.hokej.controllers.MatchController]
2026-01-26 10:57:04 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.models.dto.MatchDetailDTO cz.phsoft.hokej.controllers.MatchController.getMatchDetail(java.lang.Long); target is of class [cz.phsoft.hokej.controllers.MatchController]
2026-01-26 10:57:04 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        me1_0.id,
        me1_0.cancel_reason,
        me1_0.date_time,
        me1_0.description,
        me1_0.location,
        me1_0.match_status,
        me1_0.max_players,
        me1_0.price,
        me1_0.season_id,
        s1_0.id,
        s1_0.active,
        s1_0.end_date,
        s1_0.name,
        s1_0.start_date 
    from
        matches me1_0 
    join
        season s1_0 
            on s1_0.id=me1_0.season_id 
    where
        me1_0.id=?
2026-01-26 10:57:04 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        mre1_0.id,
        mre1_0.admin_note,
        mre1_0.created_by,
        mre1_0.excuse_note,
        mre1_0.excuse_reason,
        mre1_0.match_id,
        mre1_0.player_id,
        mre1_0.status,
        mre1_0.team,
        mre1_0.timestamp 
    from
        match_registrations mre1_0 
    left join
        matches m1_0 
            on m1_0.id=mre1_0.match_id 
    where
        m1_0.id=?
2026-01-26 10:57:04 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.full_name,
        pe1_0.name,
        pe1_0.nickname,
        pe1_0.email_enabled,
        pe1_0.sms_enabled,
        pe1_0.phone_number,
        pe1_0.player_status,
        pe1_0.surname,
        pe1_0.team,
        pe1_0.type,
        pe1_0.user_id 
    from
        player_entity pe1_0 
    where
        pe1_0.id=?
2026-01-26 10:57:04 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        mre1_0.id,
        mre1_0.admin_note,
        mre1_0.created_by,
        mre1_0.excuse_note,
        mre1_0.excuse_reason,
        mre1_0.match_id,
        mre1_0.player_id,
        mre1_0.status,
        mre1_0.team,
        mre1_0.timestamp 
    from
        match_registrations mre1_0 
    left join
        matches m1_0 
            on m1_0.id=mre1_0.match_id 
    where
        m1_0.id=?
2026-01-26 10:57:04 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.full_name,
        pe1_0.name,
        pe1_0.nickname,
        pe1_0.email_enabled,
        pe1_0.sms_enabled,
        pe1_0.phone_number,
        pe1_0.player_status,
        pe1_0.surname,
        pe1_0.team,
        pe1_0.type,
        pe1_0.user_id 
    from
        player_entity pe1_0
2026-01-26 10:57:04 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        mre1_0.id,
        mre1_0.admin_note,
        mre1_0.created_by,
        mre1_0.excuse_note,
        mre1_0.excuse_reason,
        mre1_0.match_id,
        mre1_0.player_id,
        mre1_0.status,
        mre1_0.team,
        mre1_0.timestamp 
    from
        match_registrations mre1_0 
    left join
        player_entity p1_0 
            on p1_0.id=mre1_0.player_id 
    left join
        matches m1_0 
            on m1_0.id=mre1_0.match_id 
    where
        p1_0.id is null 
        and m1_0.id=?
2026-01-26 10:59:54 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/current-player/auto-select
2026-01-26 10:59:54 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2026-01-26 10:59:54 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/current-player/auto-select
2026-01-26 10:59:54 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.controllers.CurrentPlayerController.autoSelectCurrentPlayer(org.springframework.security.core.Authentication); target is of class [cz.phsoft.hokej.controllers.CurrentPlayerController]
2026-01-26 10:59:54 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.controllers.CurrentPlayerController.autoSelectCurrentPlayer(org.springframework.security.core.Authentication); target is of class [cz.phsoft.hokej.controllers.CurrentPlayerController]
2026-01-26 10:59:54 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.full_name,
        pe1_0.name,
        pe1_0.nickname,
        pe1_0.email_enabled,
        pe1_0.sms_enabled,
        pe1_0.phone_number,
        pe1_0.player_status,
        pe1_0.surname,
        pe1_0.team,
        pe1_0.type,
        pe1_0.user_id 
    from
        player_entity pe1_0 
    left join
        app_users u1_0 
            on u1_0.id=pe1_0.user_id 
    where
        u1_0.email=? 
    order by
        pe1_0.id
2026-01-26 11:00:00 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/matchDetail/11
2026-01-26 11:00:00 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2026-01-26 11:00:00 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/matchDetail/11
2026-01-26 11:00:00 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.full_name,
        pe1_0.name,
        pe1_0.nickname,
        pe1_0.email_enabled,
        pe1_0.sms_enabled,
        pe1_0.phone_number,
        pe1_0.player_status,
        pe1_0.surname,
        pe1_0.team,
        pe1_0.type,
        pe1_0.user_id 
    from
        player_entity pe1_0 
    where
        pe1_0.id=?
2026-01-26 11:00:00 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.models.dto.MatchDetailDTO cz.phsoft.hokej.controllers.MatchController.getMatchDetail(java.lang.Long); target is of class [cz.phsoft.hokej.controllers.MatchController]
2026-01-26 11:00:00 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.models.dto.MatchDetailDTO cz.phsoft.hokej.controllers.MatchController.getMatchDetail(java.lang.Long); target is of class [cz.phsoft.hokej.controllers.MatchController]
2026-01-26 11:00:00 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        me1_0.id,
        me1_0.cancel_reason,
        me1_0.date_time,
        me1_0.description,
        me1_0.location,
        me1_0.match_status,
        me1_0.max_players,
        me1_0.price,
        me1_0.season_id,
        s1_0.id,
        s1_0.active,
        s1_0.end_date,
        s1_0.name,
        s1_0.start_date 
    from
        matches me1_0 
    join
        season s1_0 
            on s1_0.id=me1_0.season_id 
    where
        me1_0.id=?
2026-01-26 11:00:00 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        mre1_0.id,
        mre1_0.admin_note,
        mre1_0.created_by,
        mre1_0.excuse_note,
        mre1_0.excuse_reason,
        mre1_0.match_id,
        mre1_0.player_id,
        mre1_0.status,
        mre1_0.team,
        mre1_0.timestamp 
    from
        match_registrations mre1_0 
    left join
        matches m1_0 
            on m1_0.id=mre1_0.match_id 
    where
        m1_0.id=?
2026-01-26 11:00:00 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.full_name,
        pe1_0.name,
        pe1_0.nickname,
        pe1_0.email_enabled,
        pe1_0.sms_enabled,
        pe1_0.phone_number,
        pe1_0.player_status,
        pe1_0.surname,
        pe1_0.team,
        pe1_0.type,
        pe1_0.user_id 
    from
        player_entity pe1_0 
    where
        pe1_0.id=?
2026-01-26 11:00:00 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        mre1_0.id,
        mre1_0.admin_note,
        mre1_0.created_by,
        mre1_0.excuse_note,
        mre1_0.excuse_reason,
        mre1_0.match_id,
        mre1_0.player_id,
        mre1_0.status,
        mre1_0.team,
        mre1_0.timestamp 
    from
        match_registrations mre1_0 
    left join
        matches m1_0 
            on m1_0.id=mre1_0.match_id 
    where
        m1_0.id=?
2026-01-26 11:00:00 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.full_name,
        pe1_0.name,
        pe1_0.nickname,
        pe1_0.email_enabled,
        pe1_0.sms_enabled,
        pe1_0.phone_number,
        pe1_0.player_status,
        pe1_0.surname,
        pe1_0.team,
        pe1_0.type,
        pe1_0.user_id 
    from
        player_entity pe1_0
2026-01-26 11:00:00 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        mre1_0.id,
        mre1_0.admin_note,
        mre1_0.created_by,
        mre1_0.excuse_note,
        mre1_0.excuse_reason,
        mre1_0.match_id,
        mre1_0.player_id,
        mre1_0.status,
        mre1_0.team,
        mre1_0.timestamp 
    from
        match_registrations mre1_0 
    left join
        player_entity p1_0 
            on p1_0.id=mre1_0.player_id 
    left join
        matches m1_0 
            on m1_0.id=mre1_0.match_id 
    where
        p1_0.id=? 
        and m1_0.id=?
2026-01-26 11:06:19 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-26 11:06:19 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-01-26 11:06:19 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
