2026-02-28 00:01:38 [scheduling-1] DEBUG c.p.h.m.s.n.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T00:01:38.806485300, windowEnd=2026-03-02T00:01:38.806485300
2026-02-28 00:06:38 [scheduling-1] DEBUG c.p.h.m.s.n.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T00:06:38.853999200, windowEnd=2026-03-02T00:06:38.853999200
2026-02-28 00:11:38 [scheduling-1] DEBUG c.p.h.m.s.n.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T00:11:38.877020200, windowEnd=2026-03-02T00:11:38.877020200
2026-02-28 00:16:38 [scheduling-1] DEBUG c.p.h.m.s.n.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T00:16:38.893346800, windowEnd=2026-03-02T00:16:38.893346800
2026-02-28 00:21:38 [scheduling-1] DEBUG c.p.h.m.s.n.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T00:21:38.907463600, windowEnd=2026-03-02T00:21:38.907463600
2026-02-28 00:26:38 [scheduling-1] DEBUG c.p.h.m.s.n.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T00:26:38.924524300, windowEnd=2026-03-02T00:26:38.924524300
2026-02-28 00:31:38 [scheduling-1] DEBUG c.p.h.m.s.n.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T00:31:38.947765900, windowEnd=2026-03-02T00:31:38.947765900
2026-02-28 00:36:38 [scheduling-1] DEBUG c.p.h.m.s.n.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T00:36:38.957984200, windowEnd=2026-03-02T00:36:38.957984200
2026-02-28 00:41:38 [scheduling-1] DEBUG c.p.h.m.s.n.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T00:41:38.987697300, windowEnd=2026-03-02T00:41:38.987697300
2026-02-28 00:43:04 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-28 00:43:05 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-28 00:43:06 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-28 09:43:07 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-28 09:43:07 [main] INFO  c.phsoft.hokej.HobbyHokejApplication - Starting HobbyHokejApplication using Java 17.0.18 with PID 17288 (C:\ProjektyPrace\HobbyHokej\backend\target\classes started by petrh in C:\ProjektyPrace\HobbyHokej)
2026-02-28 09:43:07 [main] DEBUG c.phsoft.hokej.HobbyHokejApplication - Running with Spring Boot v3.2.2, Spring v6.1.3
2026-02-28 09:43:07 [main] INFO  c.phsoft.hokej.HobbyHokejApplication - The following 1 profile is active: "dev"
2026-02-28 09:43:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-28 09:43:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 575 ms. Found 16 JPA repository interfaces.
2026-02-28 09:43:38 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-28 09:43:38 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-28 09:43:38 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-28 09:43:38 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.18]
2026-02-28 09:43:39 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-02-28 09:43:39 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 30581 ms
2026-02-28 09:43:41 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-28 09:43:42 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@d84b3a2
2026-02-28 09:43:42 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-28 09:43:42 [main] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2026-02-28 09:43:43 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mariadb://127.0.0.1/hobby_hokej (MariaDB 10.6)
2026-02-28 09:43:44 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 20 migrations (execution time 00:00.659s)
2026-02-28 09:43:44 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `hobby_hokej`: 7
2026-02-28 09:43:44 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `hobby_hokej` is up to date. No migration necessary.
2026-02-28 09:43:45 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-28 09:43:47 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2026-02-28 09:43:47 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-28 09:43:48 [main] INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true
2026-02-28 09:43:50 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-28 09:43:51 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1a3c4b3e) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4746fb8c)
2026-02-28 09:43:51 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3be46d9c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@41d877bb)
2026-02-28 09:43:51 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@39c5a105) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@492fa72a)
2026-02-28 09:43:51 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@513fab1e) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@53d87b2d)
2026-02-28 09:43:51 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@470135da) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7323dce7)
2026-02-28 09:43:51 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5f68eec6) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4ff9f715)
2026-02-28 09:43:51 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@118a4d5) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6cb194f5)
2026-02-28 09:43:51 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@74b7497b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@74f649a7)
2026-02-28 09:43:51 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@308c65e0) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@50fa5938)
2026-02-28 09:43:57 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-28 09:43:58 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-28 09:44:00 [main] DEBUG c.p.h.security.CurrentPlayerFilter - Filter 'currentPlayerFilter' configured for use
2026-02-28 09:44:01 [main] INFO  c.p.hokej.config.DataInitializer - DataInitializer is enabled. Demo/test data initialization starts.
2026-02-28 09:44:02 [main] INFO  c.p.hokej.config.DataInitializer - Admin user already exists. Initialization is skipped.
2026-02-28 09:44:03 [main] INFO  c.p.hokej.config.DataInitializer - Players already exist. Player initialization is skipped.
2026-02-28 09:44:03 [main] INFO  c.p.hokej.config.DataInitializer - User settings initialization starts.
2026-02-28 09:44:03 [main] INFO  c.p.hokej.config.DataInitializer - User settings have been initialized.
2026-02-28 09:44:03 [main] INFO  c.p.hokej.config.DataInitializer - Player settings initialization starts.
2026-02-28 09:44:03 [main] INFO  c.p.hokej.config.DataInitializer - Player settings have been initialized.
2026-02-28 09:44:03 [main] INFO  c.p.hokej.config.DataInitializer - Seasons already exist. Season initialization is skipped.
2026-02-28 09:44:03 [main] INFO  c.p.hokej.config.DataInitializer - Matches already exist. Match initialization is skipped.
2026-02-28 09:44:03 [main] INFO  c.p.hokej.config.DataInitializer - Match registrations already exist. Registration initialization is skipped.
2026-02-28 09:44:03 [main] INFO  c.p.hokej.config.DataInitializer - Data initialization completed.
2026-02-28 09:44:05 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-28 09:44:07 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@340d50c8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@9cabd07, org.springframework.security.web.context.SecurityContextHolderFilter@6f3b4c9a, org.springframework.security.web.header.HeaderWriterFilter@68032a80, org.springframework.web.filter.CorsFilter@2a32be8d, org.springframework.security.web.authentication.logout.LogoutFilter@765611c9, cz.phsoft.hokej.config.CustomJsonLoginFilter@7942987, cz.phsoft.hokej.security.impersonation.ImpersonationFilter@5941a2ad, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@424632a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4947b8a7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5bf1e07, org.springframework.security.web.session.SessionManagementFilter@62c41ad, org.springframework.security.web.access.ExceptionTranslationFilter@59e6fb8a, org.springframework.security.web.access.intercept.AuthorizationFilter@79499fa]
2026-02-28 09:44:08 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-02-28 09:44:08 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2026-02-28 09:44:08 [main] INFO  c.phsoft.hokej.HobbyHokejApplication - Started HobbyHokejApplication in 67.071 seconds (process running for 76.992)
2026-02-28 09:44:09 [scheduling-1] DEBUG c.p.h.m.s.n.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T09:44:09.053420800, windowEnd=2026-03-02T09:44:09.053420800
2026-02-28 09:45:09 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-28 09:45:09 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-02-28 09:45:09 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2026-02-28 09:45:09 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-28 09:45:09 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-02-28 09:45:09 [http-nio-8080-exec-1] INFO  c.p.h.m.services.AppUserServiceImpl - Aktualizována přihlášení uživatele player1@example.com: lastLoginAt=2026-02-27T22:50:40.492838Z, currentLoginAt=2026-02-28T08:45:09.876826300Z
2026-02-28 09:45:11 [http-nio-8080-exec-1] WARN  o.a.c.util.SessionIdGeneratorBase - Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [296] milliseconds.
2026-02-28 09:45:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/detail
2026-02-28 09:45:20 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 09:45:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/detail
2026-02-28 09:45:20 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDetailDTO cz.phsoft.hokej.match.controllers.MatchController.getMatchDetail(java.lang.Long); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 09:45:21 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDetailDTO cz.phsoft.hokej.match.controllers.MatchController.getMatchDetail(java.lang.Long); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 09:46:13 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/matches/54
2026-02-28 09:46:13 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 09:46:13 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/matches/54
2026-02-28 09:46:14 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDTO cz.phsoft.hokej.match.controllers.MatchController.updateMatch(java.lang.Long,cz.phsoft.hokej.match.dto.MatchDTO); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 09:46:14 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDTO cz.phsoft.hokej.match.controllers.MatchController.updateMatch(java.lang.Long,cz.phsoft.hokej.match.dto.MatchDTO); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 09:46:14 [http-nio-8080-exec-4] INFO  c.p.h.m.services.MatchServiceImpl - UPDATE matchId=54, oldMode=THREE_ON_THREE_NO_GOALIE, newModeAfterMap=THREE_ON_THREE_NO_GOALIE
2026-02-28 09:46:23 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/detail
2026-02-28 09:46:23 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 09:46:23 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/detail
2026-02-28 09:46:23 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDetailDTO cz.phsoft.hokej.match.controllers.MatchController.getMatchDetail(java.lang.Long); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 09:46:23 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDetailDTO cz.phsoft.hokej.match.controllers.MatchController.getMatchDetail(java.lang.Long); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 09:47:15 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/positionst/DARK
2026-02-28 09:47:15 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 09:47:15 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/positionst/DARK
2026-02-28 09:47:31 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/positions/DARK
2026-02-28 09:47:31 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 09:47:31 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/positions/DARK
2026-02-28 09:47:31 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 09:47:31 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 09:47:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/53/positions/DARK
2026-02-28 09:47:59 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 09:47:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/53/positions/DARK
2026-02-28 09:47:59 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 09:47:59 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 09:48:18 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/53/positions/LIGHT
2026-02-28 09:48:18 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 09:48:18 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/53/positions/LIGHT
2026-02-28 09:48:18 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 09:48:18 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 09:48:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/53/positions/DARK
2026-02-28 09:48:35 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 09:48:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/53/positions/DARK
2026-02-28 09:48:35 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 09:48:35 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 09:48:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/positions/DARK
2026-02-28 09:48:45 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 09:48:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/positions/DARK
2026-02-28 09:48:45 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 09:48:45 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 09:49:09 [scheduling-1] DEBUG c.p.h.m.s.n.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T09:49:09.179507, windowEnd=2026-03-02T09:49:09.179507
2026-02-28 09:49:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/matches/54
2026-02-28 09:49:51 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 09:49:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/matches/54
2026-02-28 09:49:51 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDTO cz.phsoft.hokej.match.controllers.MatchController.updateMatch(java.lang.Long,cz.phsoft.hokej.match.dto.MatchDTO); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 09:49:51 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDTO cz.phsoft.hokej.match.controllers.MatchController.updateMatch(java.lang.Long,cz.phsoft.hokej.match.dto.MatchDTO); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 09:49:51 [http-nio-8080-exec-5] INFO  c.p.h.m.services.MatchServiceImpl - UPDATE matchId=54, oldMode=THREE_ON_THREE_NO_GOALIE, newModeAfterMap=THREE_ON_THREE_WITH_GOALIE
2026-02-28 09:49:56 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/positions/DARK
2026-02-28 09:49:56 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 09:49:56 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/positions/DARK
2026-02-28 09:49:56 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 09:49:56 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 09:50:29 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/matches/54
2026-02-28 09:50:29 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 09:50:29 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/matches/54
2026-02-28 09:50:29 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDTO cz.phsoft.hokej.match.controllers.MatchController.updateMatch(java.lang.Long,cz.phsoft.hokej.match.dto.MatchDTO); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 09:50:29 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDTO cz.phsoft.hokej.match.controllers.MatchController.updateMatch(java.lang.Long,cz.phsoft.hokej.match.dto.MatchDTO); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 09:50:29 [http-nio-8080-exec-7] INFO  c.p.h.m.services.MatchServiceImpl - UPDATE matchId=54, oldMode=THREE_ON_THREE_WITH_GOALIE, newModeAfterMap=THREE_ON_THREE_WITH_GOALIE
2026-02-28 09:50:35 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/positions/DARK
2026-02-28 09:50:35 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 09:50:35 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/positions/DARK
2026-02-28 09:50:35 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 09:50:35 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 09:52:51 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-28 09:52:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-28 09:52:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-28 09:53:04 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-28 09:53:04 [main] INFO  c.phsoft.hokej.HobbyHokejApplication - Starting HobbyHokejApplication using Java 17.0.18 with PID 15276 (C:\ProjektyPrace\HobbyHokej\backend\target\classes started by petrh in C:\ProjektyPrace\HobbyHokej)
2026-02-28 09:53:04 [main] DEBUG c.phsoft.hokej.HobbyHokejApplication - Running with Spring Boot v3.2.2, Spring v6.1.3
2026-02-28 09:53:04 [main] INFO  c.phsoft.hokej.HobbyHokejApplication - The following 1 profile is active: "dev"
2026-02-28 09:53:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-28 09:53:12 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 885 ms. Found 16 JPA repository interfaces.
2026-02-28 09:53:17 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-28 09:53:17 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-28 09:53:17 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-28 09:53:17 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.18]
2026-02-28 09:53:18 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-02-28 09:53:18 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 13363 ms
2026-02-28 09:53:20 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-28 09:53:21 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@221ca495
2026-02-28 09:53:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-28 09:53:21 [main] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2026-02-28 09:53:21 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mariadb://127.0.0.1/hobby_hokej (MariaDB 10.6)
2026-02-28 09:53:22 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 20 migrations (execution time 00:00.482s)
2026-02-28 09:53:22 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `hobby_hokej`: 7
2026-02-28 09:53:22 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `hobby_hokej` is up to date. No migration necessary.
2026-02-28 09:53:23 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-28 09:53:24 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2026-02-28 09:53:25 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-28 09:53:26 [main] INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true
2026-02-28 09:53:26 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-28 09:53:27 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5f68eec6) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4ff9f715)
2026-02-28 09:53:27 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@118a4d5) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6cb194f5)
2026-02-28 09:53:27 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@74b7497b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@74f649a7)
2026-02-28 09:53:27 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@308c65e0) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@50fa5938)
2026-02-28 09:53:27 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1e482ecd) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@58b5f7d2)
2026-02-28 09:53:27 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@bc52a41) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@9f48198)
2026-02-28 09:53:27 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5615f82d) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@21698e5a)
2026-02-28 09:53:27 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3dc2f14) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2e8986b6)
2026-02-28 09:53:27 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5724c7da) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3ad2883a)
2026-02-28 09:53:30 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-28 09:53:30 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-28 09:53:32 [main] DEBUG c.p.h.security.CurrentPlayerFilter - Filter 'currentPlayerFilter' configured for use
2026-02-28 09:53:33 [main] INFO  c.p.hokej.config.DataInitializer - DataInitializer is enabled. Demo/test data initialization starts.
2026-02-28 09:53:33 [main] INFO  c.p.hokej.config.DataInitializer - Admin user already exists. Initialization is skipped.
2026-02-28 09:53:34 [main] INFO  c.p.hokej.config.DataInitializer - Players already exist. Player initialization is skipped.
2026-02-28 09:53:34 [main] INFO  c.p.hokej.config.DataInitializer - User settings initialization starts.
2026-02-28 09:53:34 [main] INFO  c.p.hokej.config.DataInitializer - User settings have been initialized.
2026-02-28 09:53:34 [main] INFO  c.p.hokej.config.DataInitializer - Player settings initialization starts.
2026-02-28 09:53:34 [main] INFO  c.p.hokej.config.DataInitializer - Player settings have been initialized.
2026-02-28 09:53:34 [main] INFO  c.p.hokej.config.DataInitializer - Seasons already exist. Season initialization is skipped.
2026-02-28 09:53:34 [main] INFO  c.p.hokej.config.DataInitializer - Matches already exist. Match initialization is skipped.
2026-02-28 09:53:34 [main] INFO  c.p.hokej.config.DataInitializer - Match registrations already exist. Registration initialization is skipped.
2026-02-28 09:53:34 [main] INFO  c.p.hokej.config.DataInitializer - Data initialization completed.
2026-02-28 09:53:36 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-28 09:53:38 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@65d28ad4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6f0ea5de, org.springframework.security.web.context.SecurityContextHolderFilter@2a073f4f, org.springframework.security.web.header.HeaderWriterFilter@22ff53d1, org.springframework.web.filter.CorsFilter@b0ff869, org.springframework.security.web.authentication.logout.LogoutFilter@2b8502e7, cz.phsoft.hokej.config.CustomJsonLoginFilter@3ae81b53, cz.phsoft.hokej.security.impersonation.ImpersonationFilter@4b9da2f0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@a5f5b96, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40ab1491, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5127de08, org.springframework.security.web.session.SessionManagementFilter@4127dcdb, org.springframework.security.web.access.ExceptionTranslationFilter@7cad6289, org.springframework.security.web.access.intercept.AuthorizationFilter@350a3df3]
2026-02-28 09:53:39 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-02-28 09:53:39 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2026-02-28 09:53:39 [main] INFO  c.phsoft.hokej.HobbyHokejApplication - Started HobbyHokejApplication in 37.536 seconds (process running for 39.974)
2026-02-28 09:53:40 [scheduling-1] DEBUG c.p.h.m.s.n.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T09:53:40.701429300, windowEnd=2026-03-02T09:53:40.701429300
2026-02-28 09:54:05 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-28 09:54:05 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-02-28 09:54:05 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2026-02-28 09:54:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-28 09:54:06 [http-nio-8080-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-02-28 09:54:06 [http-nio-8080-exec-2] INFO  c.p.h.m.services.AppUserServiceImpl - Aktualizována přihlášení uživatele player1@example.com: lastLoginAt=2026-02-28T08:45:09.876826Z, currentLoginAt=2026-02-28T08:54:06.443113900Z
2026-02-28 09:54:06 [http-nio-8080-exec-2] WARN  o.a.c.util.SessionIdGeneratorBase - Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [150] milliseconds.
2026-02-28 09:54:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/positions/DARK
2026-02-28 09:54:13 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 09:54:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/positions/DARK
2026-02-28 09:54:13 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 09:54:14 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 09:54:19 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/positions/DARK
2026-02-28 09:54:19 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 09:54:19 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/positions/DARK
2026-02-28 09:54:19 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 09:54:19 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 09:54:35 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/positions
2026-02-28 09:54:35 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 09:54:35 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/positions
2026-02-28 09:54:35 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getPositionOverview(java.lang.Long); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 09:54:35 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getPositionOverview(java.lang.Long); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 09:58:41 [scheduling-1] DEBUG c.p.h.m.s.n.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T09:58:41.109038900, windowEnd=2026-03-02T09:58:41.109038900
2026-02-28 10:03:41 [scheduling-1] DEBUG c.p.h.m.s.n.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T10:03:41.136789800, windowEnd=2026-03-02T10:03:41.136789800
2026-02-28 10:08:41 [scheduling-1] DEBUG c.p.h.m.s.n.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T10:08:41.162394700, windowEnd=2026-03-02T10:08:41.162394700
2026-02-28 10:13:29 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-28 10:13:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-28 10:13:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-28 13:10:53 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-28 13:10:53 [main] INFO  c.phsoft.hokej.HobbyHokejApplication - Starting HobbyHokejApplication using Java 17.0.18 with PID 6320 (C:\ProjektyPrace\HobbyHokej\backend\target\classes started by petrh in C:\ProjektyPrace\HobbyHokej)
2026-02-28 13:10:53 [main] DEBUG c.phsoft.hokej.HobbyHokejApplication - Running with Spring Boot v3.2.2, Spring v6.1.3
2026-02-28 13:10:53 [main] INFO  c.phsoft.hokej.HobbyHokejApplication - The following 1 profile is active: "dev"
2026-02-28 13:10:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-28 13:10:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 557 ms. Found 16 JPA repository interfaces.
2026-02-28 13:11:01 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-28 13:11:01 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-28 13:11:01 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-28 13:11:01 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.18]
2026-02-28 13:11:02 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-02-28 13:11:02 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 8318 ms
2026-02-28 13:11:02 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-28 13:11:03 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@537b3b2e
2026-02-28 13:11:03 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-28 13:11:03 [main] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2026-02-28 13:11:03 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mariadb://127.0.0.1/hobby_hokej (MariaDB 10.6)
2026-02-28 13:11:04 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 20 migrations (execution time 00:00.256s)
2026-02-28 13:11:04 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `hobby_hokej`: 7
2026-02-28 13:11:04 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `hobby_hokej` is up to date. No migration necessary.
2026-02-28 13:11:04 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-28 13:11:05 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2026-02-28 13:11:05 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-28 13:11:05 [main] INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true
2026-02-28 13:11:06 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-28 13:11:06 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@53d87b2d) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@470135da)
2026-02-28 13:11:06 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7323dce7) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5f68eec6)
2026-02-28 13:11:06 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4ff9f715) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@118a4d5)
2026-02-28 13:11:06 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6cb194f5) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@74b7497b)
2026-02-28 13:11:06 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@74f649a7) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@308c65e0)
2026-02-28 13:11:06 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@50fa5938) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1e482ecd)
2026-02-28 13:11:06 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@58b5f7d2) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@bc52a41)
2026-02-28 13:11:06 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@9f48198) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5615f82d)
2026-02-28 13:11:06 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@21698e5a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3dc2f14)
2026-02-28 13:11:11 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-28 13:11:11 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-28 13:11:13 [main] DEBUG c.p.h.security.CurrentPlayerFilter - Filter 'currentPlayerFilter' configured for use
2026-02-28 13:11:14 [main] INFO  c.p.hokej.config.DataInitializer - DataInitializer is enabled. Demo/test data initialization starts.
2026-02-28 13:11:14 [main] INFO  c.p.hokej.config.DataInitializer - Admin user already exists. Initialization is skipped.
2026-02-28 13:11:15 [main] INFO  c.p.hokej.config.DataInitializer - Players already exist. Player initialization is skipped.
2026-02-28 13:11:15 [main] INFO  c.p.hokej.config.DataInitializer - User settings initialization starts.
2026-02-28 13:11:15 [main] INFO  c.p.hokej.config.DataInitializer - User settings have been initialized.
2026-02-28 13:11:15 [main] INFO  c.p.hokej.config.DataInitializer - Player settings initialization starts.
2026-02-28 13:11:15 [main] INFO  c.p.hokej.config.DataInitializer - Player settings have been initialized.
2026-02-28 13:11:15 [main] INFO  c.p.hokej.config.DataInitializer - Seasons already exist. Season initialization is skipped.
2026-02-28 13:11:15 [main] INFO  c.p.hokej.config.DataInitializer - Matches already exist. Match initialization is skipped.
2026-02-28 13:11:15 [main] INFO  c.p.hokej.config.DataInitializer - Match registrations already exist. Registration initialization is skipped.
2026-02-28 13:11:15 [main] INFO  c.p.hokej.config.DataInitializer - Data initialization completed.
2026-02-28 13:11:16 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'matchController' defined in file [C:\ProjektyPrace\HobbyHokej\backend\target\classes\cz\phsoft\hokej\match\controllers\MatchController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'matchServiceImpl' defined in file [C:\ProjektyPrace\HobbyHokej\backend\target\classes\cz\phsoft\hokej\match\services\MatchServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 3: Error creating bean with name 'matchRegistrationServiceImpl' defined in file [C:\ProjektyPrace\HobbyHokej\backend\target\classes\cz\phsoft\hokej\registration\services\MatchRegistrationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'cz.phsoft.hokej.registration.services.MatchRegistrationQueryService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2026-02-28 13:11:16 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-28 13:11:16 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-28 13:11:16 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-28 13:11:16 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2026-02-28 13:11:16 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-02-28 13:11:16 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in cz.phsoft.hokej.registration.services.MatchRegistrationServiceImpl required a bean of type 'cz.phsoft.hokej.registration.services.MatchRegistrationQueryService' that could not be found.


Action:

Consider defining a bean of type 'cz.phsoft.hokej.registration.services.MatchRegistrationQueryService' in your configuration.

2026-02-28 13:14:27 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-28 13:14:27 [main] INFO  c.phsoft.hokej.HobbyHokejApplication - Starting HobbyHokejApplication using Java 17.0.18 with PID 6208 (C:\ProjektyPrace\HobbyHokej\backend\target\classes started by petrh in C:\ProjektyPrace\HobbyHokej)
2026-02-28 13:14:27 [main] DEBUG c.phsoft.hokej.HobbyHokejApplication - Running with Spring Boot v3.2.2, Spring v6.1.3
2026-02-28 13:14:27 [main] INFO  c.phsoft.hokej.HobbyHokejApplication - The following 1 profile is active: "dev"
2026-02-28 13:14:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-28 13:14:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 512 ms. Found 16 JPA repository interfaces.
2026-02-28 13:14:34 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-28 13:14:34 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-28 13:14:34 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-28 13:14:34 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.18]
2026-02-28 13:14:35 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-02-28 13:14:35 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 7147 ms
2026-02-28 13:14:35 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-28 13:14:36 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@c5e69a5
2026-02-28 13:14:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-28 13:14:36 [main] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2026-02-28 13:14:36 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mariadb://127.0.0.1/hobby_hokej (MariaDB 10.6)
2026-02-28 13:14:36 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 20 migrations (execution time 00:00.185s)
2026-02-28 13:14:36 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `hobby_hokej`: 7
2026-02-28 13:14:36 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `hobby_hokej` is up to date. No migration necessary.
2026-02-28 13:14:36 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-28 13:14:37 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2026-02-28 13:14:37 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-28 13:14:37 [main] INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true
2026-02-28 13:14:38 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-28 13:14:38 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@b267745) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@31e22365)
2026-02-28 13:14:38 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2ebf524) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@41bdaa81)
2026-02-28 13:14:38 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@799971ac) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@59c08cf1)
2026-02-28 13:14:38 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@45f0038) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@289a4b90)
2026-02-28 13:14:38 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1a3c4b3e) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4746fb8c)
2026-02-28 13:14:38 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3be46d9c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@41d877bb)
2026-02-28 13:14:38 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@39c5a105) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@492fa72a)
2026-02-28 13:14:38 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@513fab1e) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@53d87b2d)
2026-02-28 13:14:38 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@470135da) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7323dce7)
2026-02-28 13:14:42 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-28 13:14:42 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-28 13:14:43 [main] DEBUG c.p.h.security.CurrentPlayerFilter - Filter 'currentPlayerFilter' configured for use
2026-02-28 13:14:44 [main] INFO  c.p.hokej.config.DataInitializer - DataInitializer is enabled. Demo/test data initialization starts.
2026-02-28 13:14:45 [main] INFO  c.p.hokej.config.DataInitializer - Admin user already exists. Initialization is skipped.
2026-02-28 13:14:45 [main] INFO  c.p.hokej.config.DataInitializer - Players already exist. Player initialization is skipped.
2026-02-28 13:14:45 [main] INFO  c.p.hokej.config.DataInitializer - User settings initialization starts.
2026-02-28 13:14:46 [main] INFO  c.p.hokej.config.DataInitializer - User settings have been initialized.
2026-02-28 13:14:46 [main] INFO  c.p.hokej.config.DataInitializer - Player settings initialization starts.
2026-02-28 13:14:46 [main] INFO  c.p.hokej.config.DataInitializer - Player settings have been initialized.
2026-02-28 13:14:46 [main] INFO  c.p.hokej.config.DataInitializer - Seasons already exist. Season initialization is skipped.
2026-02-28 13:14:46 [main] INFO  c.p.hokej.config.DataInitializer - Matches already exist. Match initialization is skipped.
2026-02-28 13:14:46 [main] INFO  c.p.hokej.config.DataInitializer - Match registrations already exist. Registration initialization is skipped.
2026-02-28 13:14:46 [main] INFO  c.p.hokej.config.DataInitializer - Data initialization completed.
2026-02-28 13:14:49 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-28 13:14:50 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7f913c47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2c9573f1, org.springframework.security.web.context.SecurityContextHolderFilter@92a584f, org.springframework.security.web.header.HeaderWriterFilter@6bac199f, org.springframework.web.filter.CorsFilter@6cf58989, org.springframework.security.web.authentication.logout.LogoutFilter@5c4f07c1, cz.phsoft.hokej.config.CustomJsonLoginFilter@3a1dc432, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e4a9c16, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@544ee437, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c18b432, org.springframework.security.web.session.SessionManagementFilter@47a9bcf1, org.springframework.security.web.access.ExceptionTranslationFilter@3acae925, org.springframework.security.web.access.intercept.AuthorizationFilter@b997735]
2026-02-28 13:14:51 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-02-28 13:14:51 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2026-02-28 13:14:51 [main] INFO  c.phsoft.hokej.HobbyHokejApplication - Started HobbyHokejApplication in 25.486 seconds (process running for 26.728)
2026-02-28 13:14:51 [scheduling-1] DEBUG c.p.h.n.s.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T13:14:51.682448600, windowEnd=2026-03-02T13:14:51.682448600
2026-02-28 13:15:44 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-28 13:15:44 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-02-28 13:15:44 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2026-02-28 13:15:44 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-28 13:15:45 [http-nio-8080-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-02-28 13:15:45 [http-nio-8080-exec-2] INFO  c.p.h.u.services.AppUserServiceImpl - Aktualizována přihlášení uživatele player1@example.com: lastLoginAt=2026-02-28T08:54:06.443113Z, currentLoginAt=2026-02-28T12:15:45.090171400Z
2026-02-28 13:15:47 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/current-player/auto-select
2026-02-28 13:15:47 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 13:15:47 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/current-player/auto-select
2026-02-28 13:15:47 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.player.controllers.CurrentPlayerController.autoSelectCurrentPlayer(org.springframework.security.core.Authentication); target is of class [cz.phsoft.hokej.player.controllers.CurrentPlayerController]
2026-02-28 13:15:47 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.player.controllers.CurrentPlayerController.autoSelectCurrentPlayer(org.springframework.security.core.Authentication); target is of class [cz.phsoft.hokej.player.controllers.CurrentPlayerController]
2026-02-28 13:16:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/detail
2026-02-28 13:16:03 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 13:16:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/detail
2026-02-28 13:16:04 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDetailDTO cz.phsoft.hokej.match.controllers.MatchController.getMatchDetail(java.lang.Long); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 13:16:04 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDetailDTO cz.phsoft.hokej.match.controllers.MatchController.getMatchDetail(java.lang.Long); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 13:16:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/positions
2026-02-28 13:16:22 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 13:16:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/positions
2026-02-28 13:16:22 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getPositionOverview(java.lang.Long); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 13:16:22 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getPositionOverview(java.lang.Long); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 13:17:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/registrations/me/upsert
2026-02-28 13:17:36 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 13:17:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/registrations/me/upsert
2026-02-28 13:17:36 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchRegistrationDTO cz.phsoft.hokej.registration.controllers.MatchRegistrationController.upsertForCurrentPlayer(cz.phsoft.hokej.registration.dto.MatchRegistrationRequest); target is of class [cz.phsoft.hokej.registration.controllers.MatchRegistrationController]
2026-02-28 13:17:36 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchRegistrationDTO cz.phsoft.hokej.registration.controllers.MatchRegistrationController.upsertForCurrentPlayer(cz.phsoft.hokej.registration.dto.MatchRegistrationRequest); target is of class [cz.phsoft.hokej.registration.controllers.MatchRegistrationController]
2026-02-28 13:18:17 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/detail
2026-02-28 13:18:17 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 13:18:17 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/detail
2026-02-28 13:18:17 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDetailDTO cz.phsoft.hokej.match.controllers.MatchController.getMatchDetail(java.lang.Long); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 13:18:17 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDetailDTO cz.phsoft.hokej.match.controllers.MatchController.getMatchDetail(java.lang.Long); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 13:19:06 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-28 13:19:07 [http-nio-8080-exec-9] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-02-28 13:19:07 [http-nio-8080-exec-9] INFO  c.p.h.u.services.AppUserServiceImpl - Aktualizována přihlášení uživatele player5@example.com: lastLoginAt=2026-02-27T22:44:23.294937Z, currentLoginAt=2026-02-28T12:19:07.133743700Z
2026-02-28 13:19:07 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 13:19:16 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/current-player/auto-select
2026-02-28 13:19:16 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player5@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PLAYER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=882073B78C7013F56C152D8C65F120DF], Granted Authorities=[ROLE_PLAYER]]]
2026-02-28 13:19:16 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/current-player/auto-select
2026-02-28 13:19:16 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.player.controllers.CurrentPlayerController.autoSelectCurrentPlayer(org.springframework.security.core.Authentication); target is of class [cz.phsoft.hokej.player.controllers.CurrentPlayerController]
2026-02-28 13:19:16 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.player.controllers.CurrentPlayerController.autoSelectCurrentPlayer(org.springframework.security.core.Authentication); target is of class [cz.phsoft.hokej.player.controllers.CurrentPlayerController]
2026-02-28 13:19:27 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/registrations/me/upsert
2026-02-28 13:19:27 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player5@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PLAYER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=882073B78C7013F56C152D8C65F120DF], Granted Authorities=[ROLE_PLAYER]]]
2026-02-28 13:19:27 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/registrations/me/upsert
2026-02-28 13:19:27 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchRegistrationDTO cz.phsoft.hokej.registration.controllers.MatchRegistrationController.upsertForCurrentPlayer(cz.phsoft.hokej.registration.dto.MatchRegistrationRequest); target is of class [cz.phsoft.hokej.registration.controllers.MatchRegistrationController]
2026-02-28 13:19:27 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchRegistrationDTO cz.phsoft.hokej.registration.controllers.MatchRegistrationController.upsertForCurrentPlayer(cz.phsoft.hokej.registration.dto.MatchRegistrationRequest); target is of class [cz.phsoft.hokej.registration.controllers.MatchRegistrationController]
2026-02-28 13:19:28 [http-nio-8080-exec-2] INFO  c.p.h.n.s.NotificationServiceImpl - notifyPlayer decision: type=MATCH_REGISTRATION_CREATED, playerId=5, sendUserEmail=false, sendPlayerEmail=true, sendSms=false
2026-02-28 13:19:29 [http-nio-8080-exec-2] DEBUG c.p.h.n.s.InAppNotificationServiceImpl - InAppNotificationService.storeForPlayer: uložena notifikace type=MATCH_REGISTRATION_CREATED userId=6 playerId=5 matchId=null emailTo=player5@example.com smsTo=null
2026-02-28 13:19:29 [http-nio-8080-exec-2] DEBUG c.p.h.n.s.NotificationServiceImpl - DEMO MODE: sendEmailToPlayer – e-mail uložen do DemoNotificationStore, nic se neodesílá
2026-02-28 13:19:29 [http-nio-8080-exec-2] DEBUG c.p.h.n.s.NotificationServiceImpl - notifyPlayer: in-app + e-mail/SMS notifikace zpracována pro type=MATCH_REGISTRATION_CREATED playerId=5
2026-02-28 13:19:51 [scheduling-1] DEBUG c.p.h.n.s.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T13:19:51.773684200, windowEnd=2026-03-02T13:19:51.773684200
2026-02-28 13:24:51 [scheduling-1] DEBUG c.p.h.n.s.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T13:24:51.864703800, windowEnd=2026-03-02T13:24:51.864703800
2026-02-28 13:29:51 [scheduling-1] DEBUG c.p.h.n.s.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T13:29:51.917666700, windowEnd=2026-03-02T13:29:51.917666700
2026-02-28 13:34:51 [scheduling-1] DEBUG c.p.h.n.s.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T13:34:51.981722800, windowEnd=2026-03-02T13:34:51.981722800
2026-02-28 13:39:52 [scheduling-1] DEBUG c.p.h.n.s.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T13:39:52.168562100, windowEnd=2026-03-02T13:39:52.168562100
2026-02-28 13:44:55 [scheduling-1] DEBUG c.p.h.n.s.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T13:44:55.805048400, windowEnd=2026-03-02T13:44:55.805048400
2026-02-28 13:48:37 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-28 13:48:52 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-28 13:48:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-28 13:51:20 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-28 13:51:20 [main] INFO  c.phsoft.hokej.HobbyHokejApplication - Starting HobbyHokejApplication using Java 17.0.18 with PID 16036 (C:\ProjektyPrace\HobbyHokej\backend\target\classes started by petrh in C:\ProjektyPrace\HobbyHokej)
2026-02-28 13:51:20 [main] DEBUG c.phsoft.hokej.HobbyHokejApplication - Running with Spring Boot v3.2.2, Spring v6.1.3
2026-02-28 13:51:20 [main] INFO  c.phsoft.hokej.HobbyHokejApplication - The following 1 profile is active: "dev"
2026-02-28 13:51:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-28 13:51:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 691 ms. Found 16 JPA repository interfaces.
2026-02-28 13:52:13 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-28 13:52:13 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-28 13:52:13 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-28 13:52:13 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.18]
2026-02-28 13:52:13 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-02-28 13:52:13 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 53337 ms
2026-02-28 13:52:15 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-28 13:52:15 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@237b2852
2026-02-28 13:52:15 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-28 13:52:15 [main] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2026-02-28 13:52:16 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mariadb://127.0.0.1/hobby_hokej (MariaDB 10.6)
2026-02-28 13:52:17 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 20 migrations (execution time 00:00.700s)
2026-02-28 13:52:17 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `hobby_hokej`: 7
2026-02-28 13:52:17 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `hobby_hokej` is up to date. No migration necessary.
2026-02-28 13:52:17 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-28 13:52:18 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2026-02-28 13:52:18 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-28 13:52:18 [main] INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true
2026-02-28 13:52:19 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-28 13:52:20 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@9f48198) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5615f82d)
2026-02-28 13:52:20 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@21698e5a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3dc2f14)
2026-02-28 13:52:20 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2e8986b6) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5724c7da)
2026-02-28 13:52:20 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3ad2883a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5814b4fb)
2026-02-28 13:52:20 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3aca2579) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4ba13fed)
2026-02-28 13:52:20 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@651cedfb) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@18d22ecf)
2026-02-28 13:52:20 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@73d83141) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@31443680)
2026-02-28 13:52:20 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@33356666) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3a988299)
2026-02-28 13:52:20 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@878feb2) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1818390b)
2026-02-28 13:52:25 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-28 13:52:25 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-28 13:52:27 [main] DEBUG c.p.h.security.CurrentPlayerFilter - Filter 'currentPlayerFilter' configured for use
2026-02-28 13:52:28 [main] INFO  c.p.hokej.config.DataInitializer - DataInitializer is enabled. Demo/test data initialization starts.
2026-02-28 13:52:29 [main] INFO  c.p.hokej.config.DataInitializer - Admin user already exists. Initialization is skipped.
2026-02-28 13:52:29 [main] INFO  c.p.hokej.config.DataInitializer - Players already exist. Player initialization is skipped.
2026-02-28 13:52:29 [main] INFO  c.p.hokej.config.DataInitializer - User settings initialization starts.
2026-02-28 13:52:29 [main] INFO  c.p.hokej.config.DataInitializer - User settings have been initialized.
2026-02-28 13:52:29 [main] INFO  c.p.hokej.config.DataInitializer - Player settings initialization starts.
2026-02-28 13:52:30 [main] INFO  c.p.hokej.config.DataInitializer - Player settings have been initialized.
2026-02-28 13:52:30 [main] INFO  c.p.hokej.config.DataInitializer - Seasons already exist. Season initialization is skipped.
2026-02-28 13:52:30 [main] INFO  c.p.hokej.config.DataInitializer - Matches already exist. Match initialization is skipped.
2026-02-28 13:52:30 [main] INFO  c.p.hokej.config.DataInitializer - Match registrations already exist. Registration initialization is skipped.
2026-02-28 13:52:30 [main] INFO  c.p.hokej.config.DataInitializer - Data initialization completed.
2026-02-28 13:52:30 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'matchController' defined in file [C:\ProjektyPrace\HobbyHokej\backend\target\classes\cz\phsoft\hokej\match\controllers\MatchController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'matchServiceImpl' defined in file [C:\ProjektyPrace\HobbyHokej\backend\target\classes\cz\phsoft\hokej\match\services\MatchServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 3: Error creating bean with name 'matchRegistrationServiceImpl' defined in file [C:\ProjektyPrace\HobbyHokej\backend\target\classes\cz\phsoft\hokej\registration\services\MatchRegistrationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'matchRegistrationCommandServiceImpl' defined in file [C:\ProjektyPrace\HobbyHokej\backend\target\classes\cz\phsoft\hokej\registration\services\MatchRegistrationCommandServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 7: Error creating bean with name 'matchPositionServiceImpl' defined in file [C:\ProjektyPrace\HobbyHokej\backend\target\classes\cz\phsoft\hokej\match\services\MatchPositionServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'matchRegistrationServiceImpl': Requested bean is currently in creation: Is there an unresolvable circular reference?
2026-02-28 13:52:30 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-28 13:52:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-28 13:52:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-28 13:52:30 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2026-02-28 13:52:30 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-02-28 13:52:30 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

   matchController defined in file [C:\ProjektyPrace\HobbyHokej\backend\target\classes\cz\phsoft\hokej\match\controllers\MatchController.class]
      ↓
   matchServiceImpl defined in file [C:\ProjektyPrace\HobbyHokej\backend\target\classes\cz\phsoft\hokej\match\services\MatchServiceImpl.class]
┌─────┐
|  matchRegistrationServiceImpl defined in file [C:\ProjektyPrace\HobbyHokej\backend\target\classes\cz\phsoft\hokej\registration\services\MatchRegistrationServiceImpl.class]
↑     ↓
|  matchRegistrationCommandServiceImpl defined in file [C:\ProjektyPrace\HobbyHokej\backend\target\classes\cz\phsoft\hokej\registration\services\MatchRegistrationCommandServiceImpl.class]
↑     ↓
|  matchPositionServiceImpl defined in file [C:\ProjektyPrace\HobbyHokej\backend\target\classes\cz\phsoft\hokej\match\services\MatchPositionServiceImpl.class]
└─────┘


Action:

Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.

2026-02-28 14:11:45 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-28 14:11:46 [main] INFO  c.phsoft.hokej.HobbyHokejApplication - Starting HobbyHokejApplication using Java 17.0.18 with PID 16584 (C:\ProjektyPrace\HobbyHokej\backend\target\classes started by petrh in C:\ProjektyPrace\HobbyHokej)
2026-02-28 14:11:46 [main] DEBUG c.phsoft.hokej.HobbyHokejApplication - Running with Spring Boot v3.2.2, Spring v6.1.3
2026-02-28 14:11:46 [main] INFO  c.phsoft.hokej.HobbyHokejApplication - The following 1 profile is active: "dev"
2026-02-28 14:11:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-28 14:11:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 981 ms. Found 16 JPA repository interfaces.
2026-02-28 14:12:10 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-28 14:12:10 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-28 14:12:10 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-28 14:12:10 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.18]
2026-02-28 14:12:11 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-02-28 14:12:11 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 24530 ms
2026-02-28 14:12:15 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-28 14:12:16 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@237b2852
2026-02-28 14:12:16 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-28 14:12:16 [main] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2026-02-28 14:12:17 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mariadb://127.0.0.1/hobby_hokej (MariaDB 10.6)
2026-02-28 14:12:21 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 20 migrations (execution time 00:03.631s)
2026-02-28 14:12:21 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `hobby_hokej`: 7
2026-02-28 14:12:21 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `hobby_hokej` is up to date. No migration necessary.
2026-02-28 14:12:22 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-28 14:12:27 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2026-02-28 14:12:28 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-28 14:12:29 [main] INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true
2026-02-28 14:12:32 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-28 14:12:33 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@9f48198) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5615f82d)
2026-02-28 14:12:33 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@21698e5a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3dc2f14)
2026-02-28 14:12:33 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2e8986b6) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5724c7da)
2026-02-28 14:12:33 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3ad2883a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5814b4fb)
2026-02-28 14:12:33 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3aca2579) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4ba13fed)
2026-02-28 14:12:33 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@651cedfb) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@18d22ecf)
2026-02-28 14:12:33 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@73d83141) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@31443680)
2026-02-28 14:12:33 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@33356666) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3a988299)
2026-02-28 14:12:33 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@878feb2) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1818390b)
2026-02-28 14:12:46 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-28 14:12:47 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-28 14:12:52 [main] DEBUG c.p.h.security.CurrentPlayerFilter - Filter 'currentPlayerFilter' configured for use
2026-02-28 14:12:53 [main] INFO  c.p.hokej.config.DataInitializer - DataInitializer is enabled. Demo/test data initialization starts.
2026-02-28 14:12:56 [main] INFO  c.p.hokej.config.DataInitializer - Admin user already exists. Initialization is skipped.
2026-02-28 14:12:57 [main] INFO  c.p.hokej.config.DataInitializer - Players already exist. Player initialization is skipped.
2026-02-28 14:12:57 [main] INFO  c.p.hokej.config.DataInitializer - User settings initialization starts.
2026-02-28 14:12:57 [main] INFO  c.p.hokej.config.DataInitializer - User settings have been initialized.
2026-02-28 14:12:57 [main] INFO  c.p.hokej.config.DataInitializer - Player settings initialization starts.
2026-02-28 14:12:57 [main] INFO  c.p.hokej.config.DataInitializer - Player settings have been initialized.
2026-02-28 14:12:58 [main] INFO  c.p.hokej.config.DataInitializer - Seasons already exist. Season initialization is skipped.
2026-02-28 14:12:58 [main] INFO  c.p.hokej.config.DataInitializer - Matches already exist. Match initialization is skipped.
2026-02-28 14:12:58 [main] INFO  c.p.hokej.config.DataInitializer - Match registrations already exist. Registration initialization is skipped.
2026-02-28 14:12:58 [main] INFO  c.p.hokej.config.DataInitializer - Data initialization completed.
2026-02-28 14:13:00 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-28 14:13:02 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@24a696c0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@78fb4f7f, org.springframework.security.web.context.SecurityContextHolderFilter@1f9b8c23, org.springframework.security.web.header.HeaderWriterFilter@5a69f1ef, org.springframework.web.filter.CorsFilter@6a7c1725, org.springframework.security.web.authentication.logout.LogoutFilter@4a9e6ea7, cz.phsoft.hokej.config.CustomJsonLoginFilter@756476a3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@11303cb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@655e3f4c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65e4ee59, org.springframework.security.web.session.SessionManagementFilter@219aab91, org.springframework.security.web.access.ExceptionTranslationFilter@5c4f07c1, org.springframework.security.web.access.intercept.AuthorizationFilter@3d45ea17]
2026-02-28 14:13:03 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-02-28 14:13:03 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2026-02-28 14:13:03 [main] INFO  c.phsoft.hokej.HobbyHokejApplication - Started HobbyHokejApplication in 81.861 seconds (process running for 86.214)
2026-02-28 14:13:03 [scheduling-1] DEBUG c.p.h.n.s.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T14:13:03.912358300, windowEnd=2026-03-02T14:13:03.912358300
2026-02-28 14:14:21 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-28 14:14:21 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-02-28 14:14:21 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2026-02-28 14:14:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-28 14:14:22 [http-nio-8080-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-02-28 14:14:22 [http-nio-8080-exec-2] INFO  c.p.h.u.services.AppUserServiceImpl - Aktualizována přihlášení uživatele player5@example.com: lastLoginAt=2026-02-28T12:19:07.133743Z, currentLoginAt=2026-02-28T13:14:22.051420Z
2026-02-28 14:14:23 [http-nio-8080-exec-2] WARN  o.a.c.util.SessionIdGeneratorBase - Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [374] milliseconds.
2026-02-28 14:14:46 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/current-player/auto-select
2026-02-28 14:14:46 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player5@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PLAYER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PLAYER]]]
2026-02-28 14:14:46 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/current-player/auto-select
2026-02-28 14:14:46 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.player.controllers.CurrentPlayerController.autoSelectCurrentPlayer(org.springframework.security.core.Authentication); target is of class [cz.phsoft.hokej.player.controllers.CurrentPlayerController]
2026-02-28 14:14:46 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.player.controllers.CurrentPlayerController.autoSelectCurrentPlayer(org.springframework.security.core.Authentication); target is of class [cz.phsoft.hokej.player.controllers.CurrentPlayerController]
2026-02-28 14:15:01 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/registrations/me/upsert
2026-02-28 14:15:01 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player5@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PLAYER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PLAYER]]]
2026-02-28 14:15:01 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/registrations/me/upsert
2026-02-28 14:15:02 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchRegistrationDTO cz.phsoft.hokej.registration.controllers.MatchRegistrationController.upsertForCurrentPlayer(cz.phsoft.hokej.registration.dto.MatchRegistrationRequest); target is of class [cz.phsoft.hokej.registration.controllers.MatchRegistrationController]
2026-02-28 14:15:02 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchRegistrationDTO cz.phsoft.hokej.registration.controllers.MatchRegistrationController.upsertForCurrentPlayer(cz.phsoft.hokej.registration.dto.MatchRegistrationRequest); target is of class [cz.phsoft.hokej.registration.controllers.MatchRegistrationController]
2026-02-28 14:15:02 [http-nio-8080-exec-4] INFO  c.p.h.n.s.NotificationServiceImpl - notifyPlayer decision: type=MATCH_REGISTRATION_RESERVED, playerId=5, sendUserEmail=false, sendPlayerEmail=true, sendSms=false
2026-02-28 14:15:03 [http-nio-8080-exec-4] DEBUG c.p.h.n.s.InAppNotificationServiceImpl - InAppNotificationService.storeForPlayer: uložena notifikace type=MATCH_REGISTRATION_RESERVED userId=6 playerId=5 matchId=null emailTo=player5@example.com smsTo=null
2026-02-28 14:15:03 [http-nio-8080-exec-4] DEBUG c.p.h.n.s.NotificationServiceImpl - DEMO MODE: sendEmailToPlayer – e-mail uložen do DemoNotificationStore, nic se neodesílá
2026-02-28 14:15:03 [http-nio-8080-exec-4] DEBUG c.p.h.n.s.NotificationServiceImpl - notifyPlayer: in-app + e-mail/SMS notifikace zpracována pro type=MATCH_REGISTRATION_RESERVED playerId=5
2026-02-28 14:18:04 [scheduling-1] DEBUG c.p.h.n.s.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T14:18:04.054519200, windowEnd=2026-03-02T14:18:04.054519200
2026-02-28 14:20:33 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/detail
2026-02-28 14:20:33 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player5@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PLAYER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PLAYER]]]
2026-02-28 14:20:33 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/detail
2026-02-28 14:20:33 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDetailDTO cz.phsoft.hokej.match.controllers.MatchController.getMatchDetail(java.lang.Long); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 14:20:33 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDetailDTO cz.phsoft.hokej.match.controllers.MatchController.getMatchDetail(java.lang.Long); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 14:21:33 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/positions
2026-02-28 14:21:33 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player5@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PLAYER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PLAYER]]]
2026-02-28 14:21:33 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/positions
2026-02-28 14:21:33 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getPositionOverview(java.lang.Long); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 14:21:33 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getPositionOverview(java.lang.Long); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 14:22:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/positions/DARK
2026-02-28 14:22:02 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player5@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PLAYER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PLAYER]]]
2026-02-28 14:22:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/positions/DARK
2026-02-28 14:22:02 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 14:22:02 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 14:23:00 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/detail
2026-02-28 14:23:00 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player5@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PLAYER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PLAYER]]]
2026-02-28 14:23:00 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/detail
2026-02-28 14:23:00 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDetailDTO cz.phsoft.hokej.match.controllers.MatchController.getMatchDetail(java.lang.Long); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 14:23:00 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDetailDTO cz.phsoft.hokej.match.controllers.MatchController.getMatchDetail(java.lang.Long); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 14:23:04 [scheduling-1] DEBUG c.p.h.n.s.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T14:23:04.083590700, windowEnd=2026-03-02T14:23:04.083590700
2026-02-28 14:23:39 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-28 14:23:39 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-02-28 14:23:39 [http-nio-8080-exec-3] INFO  c.p.h.u.services.AppUserServiceImpl - Aktualizována přihlášení uživatele player1@example.com: lastLoginAt=2026-02-28T12:15:45.090171Z, currentLoginAt=2026-02-28T13:23:39.725214300Z
2026-02-28 14:23:40 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player5@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PLAYER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_PLAYER]]]
2026-02-28 14:23:49 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/current-player/auto-select
2026-02-28 14:23:49 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=097ACCB9F195589E0AC1E255F3CC0891], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 14:23:49 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/current-player/auto-select
2026-02-28 14:23:49 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.player.controllers.CurrentPlayerController.autoSelectCurrentPlayer(org.springframework.security.core.Authentication); target is of class [cz.phsoft.hokej.player.controllers.CurrentPlayerController]
2026-02-28 14:23:49 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.player.controllers.CurrentPlayerController.autoSelectCurrentPlayer(org.springframework.security.core.Authentication); target is of class [cz.phsoft.hokej.player.controllers.CurrentPlayerController]
2026-02-28 14:24:15 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/registrations/me/upsert
2026-02-28 14:24:15 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=097ACCB9F195589E0AC1E255F3CC0891], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 14:24:15 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/registrations/me/upsert
2026-02-28 14:24:15 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchRegistrationDTO cz.phsoft.hokej.registration.controllers.MatchRegistrationController.upsertForCurrentPlayer(cz.phsoft.hokej.registration.dto.MatchRegistrationRequest); target is of class [cz.phsoft.hokej.registration.controllers.MatchRegistrationController]
2026-02-28 14:24:15 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchRegistrationDTO cz.phsoft.hokej.registration.controllers.MatchRegistrationController.upsertForCurrentPlayer(cz.phsoft.hokej.registration.dto.MatchRegistrationRequest); target is of class [cz.phsoft.hokej.registration.controllers.MatchRegistrationController]
2026-02-28 14:24:15 [http-nio-8080-exec-5] INFO  c.p.h.n.s.NotificationServiceImpl - notifyPlayer decision: type=MATCH_REGISTRATION_CREATED, playerId=5, sendUserEmail=false, sendPlayerEmail=true, sendSms=false
2026-02-28 14:24:15 [http-nio-8080-exec-5] DEBUG c.p.h.n.s.InAppNotificationServiceImpl - InAppNotificationService.storeForPlayer: uložena notifikace type=MATCH_REGISTRATION_CREATED userId=6 playerId=5 matchId=null emailTo=player5@example.com smsTo=null
2026-02-28 14:24:15 [http-nio-8080-exec-5] DEBUG c.p.h.n.s.NotificationServiceImpl - DEMO MODE: sendEmailToPlayer – e-mail uložen do DemoNotificationStore, nic se neodesílá
2026-02-28 14:24:15 [http-nio-8080-exec-5] DEBUG c.p.h.n.s.NotificationServiceImpl - notifyPlayer: in-app + e-mail/SMS notifikace zpracována pro type=MATCH_REGISTRATION_CREATED playerId=5
2026-02-28 14:24:15 [http-nio-8080-exec-5] DEBUG c.p.h.r.s.MatchRegistrationCommandServiceImpl - promoteReservedCandidateAfterUnregister: matchId=54, candidateId=351, freedTeam=DARK, freedPosition=WING_LEFT
2026-02-28 14:24:15 [http-nio-8080-exec-5] INFO  c.p.h.n.s.NotificationServiceImpl - notifyPlayer decision: type=MATCH_REGISTRATION_CANCELED, playerId=1, sendUserEmail=false, sendPlayerEmail=true, sendSms=false
2026-02-28 14:24:15 [http-nio-8080-exec-5] DEBUG c.p.h.n.s.InAppNotificationServiceImpl - InAppNotificationService.storeForPlayer: uložena notifikace type=MATCH_REGISTRATION_CANCELED userId=2 playerId=1 matchId=null emailTo=player1@example.com smsTo=null
2026-02-28 14:24:15 [http-nio-8080-exec-5] DEBUG c.p.h.n.s.NotificationServiceImpl - DEMO MODE: sendEmailToPlayer – e-mail uložen do DemoNotificationStore, nic se neodesílá
2026-02-28 14:24:15 [http-nio-8080-exec-5] DEBUG c.p.h.n.s.NotificationServiceImpl - notifyPlayer: in-app + e-mail/SMS notifikace zpracována pro type=MATCH_REGISTRATION_CANCELED playerId=1
2026-02-28 14:24:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/registrations/me/upsert
2026-02-28 14:24:41 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=097ACCB9F195589E0AC1E255F3CC0891], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 14:24:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/registrations/me/upsert
2026-02-28 14:24:41 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchRegistrationDTO cz.phsoft.hokej.registration.controllers.MatchRegistrationController.upsertForCurrentPlayer(cz.phsoft.hokej.registration.dto.MatchRegistrationRequest); target is of class [cz.phsoft.hokej.registration.controllers.MatchRegistrationController]
2026-02-28 14:24:41 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchRegistrationDTO cz.phsoft.hokej.registration.controllers.MatchRegistrationController.upsertForCurrentPlayer(cz.phsoft.hokej.registration.dto.MatchRegistrationRequest); target is of class [cz.phsoft.hokej.registration.controllers.MatchRegistrationController]
2026-02-28 14:24:41 [http-nio-8080-exec-6] INFO  c.p.h.n.s.NotificationServiceImpl - notifyPlayer decision: type=MATCH_REGISTRATION_RESERVED, playerId=1, sendUserEmail=false, sendPlayerEmail=true, sendSms=false
2026-02-28 14:24:41 [http-nio-8080-exec-6] DEBUG c.p.h.n.s.InAppNotificationServiceImpl - InAppNotificationService.storeForPlayer: uložena notifikace type=MATCH_REGISTRATION_RESERVED userId=2 playerId=1 matchId=null emailTo=player1@example.com smsTo=null
2026-02-28 14:24:41 [http-nio-8080-exec-6] DEBUG c.p.h.n.s.NotificationServiceImpl - DEMO MODE: sendEmailToPlayer – e-mail uložen do DemoNotificationStore, nic se neodesílá
2026-02-28 14:24:41 [http-nio-8080-exec-6] DEBUG c.p.h.n.s.NotificationServiceImpl - notifyPlayer: in-app + e-mail/SMS notifikace zpracována pro type=MATCH_REGISTRATION_RESERVED playerId=1
2026-02-28 14:25:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-28 14:25:12 [http-nio-8080-exec-7] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-02-28 14:25:12 [http-nio-8080-exec-7] INFO  c.p.h.u.services.AppUserServiceImpl - Aktualizována přihlášení uživatele player2@example.com: lastLoginAt=2026-02-27T22:43:35.749470Z, currentLoginAt=2026-02-28T13:25:12.236777200Z
2026-02-28 14:25:12 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=097ACCB9F195589E0AC1E255F3CC0891], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 14:25:25 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/current-player/auto-select
2026-02-28 14:25:25 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player2@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PLAYER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=097ACCB9F195589E0AC1E255F3CC0891], Granted Authorities=[ROLE_PLAYER]]]
2026-02-28 14:25:25 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/current-player/auto-select
2026-02-28 14:25:25 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.player.controllers.CurrentPlayerController.autoSelectCurrentPlayer(org.springframework.security.core.Authentication); target is of class [cz.phsoft.hokej.player.controllers.CurrentPlayerController]
2026-02-28 14:25:25 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.player.controllers.CurrentPlayerController.autoSelectCurrentPlayer(org.springframework.security.core.Authentication); target is of class [cz.phsoft.hokej.player.controllers.CurrentPlayerController]
2026-02-28 14:25:37 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/registrations/me/for-current-player
2026-02-28 14:25:37 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player2@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PLAYER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=097ACCB9F195589E0AC1E255F3CC0891], Granted Authorities=[ROLE_PLAYER]]]
2026-02-28 14:25:37 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/registrations/me/for-current-player
2026-02-28 14:25:37 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public java.util.List cz.phsoft.hokej.registration.controllers.MatchRegistrationController.getRegistrationsForCurrentPlayer(); target is of class [cz.phsoft.hokej.registration.controllers.MatchRegistrationController]
2026-02-28 14:25:37 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public java.util.List cz.phsoft.hokej.registration.controllers.MatchRegistrationController.getRegistrationsForCurrentPlayer(); target is of class [cz.phsoft.hokej.registration.controllers.MatchRegistrationController]
2026-02-28 14:25:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/detail
2026-02-28 14:25:47 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player2@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PLAYER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=097ACCB9F195589E0AC1E255F3CC0891], Granted Authorities=[ROLE_PLAYER]]]
2026-02-28 14:25:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/detail
2026-02-28 14:25:47 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDetailDTO cz.phsoft.hokej.match.controllers.MatchController.getMatchDetail(java.lang.Long); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 14:25:47 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDetailDTO cz.phsoft.hokej.match.controllers.MatchController.getMatchDetail(java.lang.Long); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 14:26:03 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/registrations/me/upsert
2026-02-28 14:26:03 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player2@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PLAYER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=097ACCB9F195589E0AC1E255F3CC0891], Granted Authorities=[ROLE_PLAYER]]]
2026-02-28 14:26:03 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/registrations/me/upsert
2026-02-28 14:26:03 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchRegistrationDTO cz.phsoft.hokej.registration.controllers.MatchRegistrationController.upsertForCurrentPlayer(cz.phsoft.hokej.registration.dto.MatchRegistrationRequest); target is of class [cz.phsoft.hokej.registration.controllers.MatchRegistrationController]
2026-02-28 14:26:03 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchRegistrationDTO cz.phsoft.hokej.registration.controllers.MatchRegistrationController.upsertForCurrentPlayer(cz.phsoft.hokej.registration.dto.MatchRegistrationRequest); target is of class [cz.phsoft.hokej.registration.controllers.MatchRegistrationController]
2026-02-28 14:26:03 [http-nio-8080-exec-1] INFO  c.p.h.n.s.NotificationServiceImpl - notifyPlayer decision: type=MATCH_REGISTRATION_CREATED, playerId=1, sendUserEmail=false, sendPlayerEmail=true, sendSms=false
2026-02-28 14:26:03 [http-nio-8080-exec-1] DEBUG c.p.h.n.s.InAppNotificationServiceImpl - InAppNotificationService.storeForPlayer: uložena notifikace type=MATCH_REGISTRATION_CREATED userId=2 playerId=1 matchId=null emailTo=player1@example.com smsTo=null
2026-02-28 14:26:03 [http-nio-8080-exec-1] DEBUG c.p.h.n.s.NotificationServiceImpl - DEMO MODE: sendEmailToPlayer – e-mail uložen do DemoNotificationStore, nic se neodesílá
2026-02-28 14:26:03 [http-nio-8080-exec-1] DEBUG c.p.h.n.s.NotificationServiceImpl - notifyPlayer: in-app + e-mail/SMS notifikace zpracována pro type=MATCH_REGISTRATION_CREATED playerId=1
2026-02-28 14:26:03 [http-nio-8080-exec-1] DEBUG c.p.h.r.s.MatchRegistrationCommandServiceImpl - promoteReservedCandidateAfterUnregister: matchId=54, candidateId=345, freedTeam=DARK, freedPosition=WING_RIGHT
2026-02-28 14:26:03 [http-nio-8080-exec-1] INFO  c.p.h.n.s.NotificationServiceImpl - notifyPlayer decision: type=MATCH_REGISTRATION_CANCELED, playerId=2, sendUserEmail=false, sendPlayerEmail=true, sendSms=false
2026-02-28 14:26:03 [http-nio-8080-exec-1] DEBUG c.p.h.n.s.InAppNotificationServiceImpl - InAppNotificationService.storeForPlayer: uložena notifikace type=MATCH_REGISTRATION_CANCELED userId=3 playerId=2 matchId=null emailTo=player2@example.com smsTo=null
2026-02-28 14:26:03 [http-nio-8080-exec-1] DEBUG c.p.h.n.s.NotificationServiceImpl - DEMO MODE: sendEmailToPlayer – e-mail uložen do DemoNotificationStore, nic se neodesílá
2026-02-28 14:26:03 [http-nio-8080-exec-1] DEBUG c.p.h.n.s.NotificationServiceImpl - notifyPlayer: in-app + e-mail/SMS notifikace zpracována pro type=MATCH_REGISTRATION_CANCELED playerId=2
2026-02-28 14:26:37 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/registrations/me/upsert
2026-02-28 14:26:37 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player2@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PLAYER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=097ACCB9F195589E0AC1E255F3CC0891], Granted Authorities=[ROLE_PLAYER]]]
2026-02-28 14:26:37 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/registrations/me/upsert
2026-02-28 14:26:37 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchRegistrationDTO cz.phsoft.hokej.registration.controllers.MatchRegistrationController.upsertForCurrentPlayer(cz.phsoft.hokej.registration.dto.MatchRegistrationRequest); target is of class [cz.phsoft.hokej.registration.controllers.MatchRegistrationController]
2026-02-28 14:26:37 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchRegistrationDTO cz.phsoft.hokej.registration.controllers.MatchRegistrationController.upsertForCurrentPlayer(cz.phsoft.hokej.registration.dto.MatchRegistrationRequest); target is of class [cz.phsoft.hokej.registration.controllers.MatchRegistrationController]
2026-02-28 14:26:37 [http-nio-8080-exec-2] INFO  c.p.h.n.s.NotificationServiceImpl - notifyPlayer decision: type=MATCH_REGISTRATION_RESERVED, playerId=2, sendUserEmail=false, sendPlayerEmail=true, sendSms=false
2026-02-28 14:26:37 [http-nio-8080-exec-2] DEBUG c.p.h.n.s.InAppNotificationServiceImpl - InAppNotificationService.storeForPlayer: uložena notifikace type=MATCH_REGISTRATION_RESERVED userId=3 playerId=2 matchId=null emailTo=player2@example.com smsTo=null
2026-02-28 14:26:37 [http-nio-8080-exec-2] DEBUG c.p.h.n.s.NotificationServiceImpl - DEMO MODE: sendEmailToPlayer – e-mail uložen do DemoNotificationStore, nic se neodesílá
2026-02-28 14:26:37 [http-nio-8080-exec-2] DEBUG c.p.h.n.s.NotificationServiceImpl - notifyPlayer: in-app + e-mail/SMS notifikace zpracována pro type=MATCH_REGISTRATION_RESERVED playerId=2
2026-02-28 14:26:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-28 14:26:52 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-02-28 14:26:52 [http-nio-8080-exec-3] INFO  c.p.h.u.services.AppUserServiceImpl - Aktualizována přihlášení uživatele player3@example.com: lastLoginAt=2026-02-27T22:43:50.986169Z, currentLoginAt=2026-02-28T13:26:52.657834800Z
2026-02-28 14:26:52 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player2@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PLAYER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=097ACCB9F195589E0AC1E255F3CC0891], Granted Authorities=[ROLE_PLAYER]]]
2026-02-28 14:27:10 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/registrations/me/upsert
2026-02-28 14:27:10 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player3@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PLAYER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=097ACCB9F195589E0AC1E255F3CC0891], Granted Authorities=[ROLE_PLAYER]]]
2026-02-28 14:27:10 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/registrations/me/upsert
2026-02-28 14:27:10 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchRegistrationDTO cz.phsoft.hokej.registration.controllers.MatchRegistrationController.upsertForCurrentPlayer(cz.phsoft.hokej.registration.dto.MatchRegistrationRequest); target is of class [cz.phsoft.hokej.registration.controllers.MatchRegistrationController]
2026-02-28 14:27:10 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchRegistrationDTO cz.phsoft.hokej.registration.controllers.MatchRegistrationController.upsertForCurrentPlayer(cz.phsoft.hokej.registration.dto.MatchRegistrationRequest); target is of class [cz.phsoft.hokej.registration.controllers.MatchRegistrationController]
2026-02-28 14:27:10 [http-nio-8080-exec-4] INFO  c.p.h.n.s.NotificationServiceImpl - notifyPlayer decision: type=MATCH_REGISTRATION_CANCELED, playerId=2, sendUserEmail=false, sendPlayerEmail=true, sendSms=false
2026-02-28 14:27:10 [http-nio-8080-exec-4] DEBUG c.p.h.n.s.InAppNotificationServiceImpl - InAppNotificationService.storeForPlayer: uložena notifikace type=MATCH_REGISTRATION_CANCELED userId=3 playerId=2 matchId=null emailTo=player2@example.com smsTo=null
2026-02-28 14:27:10 [http-nio-8080-exec-4] DEBUG c.p.h.n.s.NotificationServiceImpl - DEMO MODE: sendEmailToPlayer – e-mail uložen do DemoNotificationStore, nic se neodesílá
2026-02-28 14:27:10 [http-nio-8080-exec-4] DEBUG c.p.h.n.s.NotificationServiceImpl - notifyPlayer: in-app + e-mail/SMS notifikace zpracována pro type=MATCH_REGISTRATION_CANCELED playerId=2
2026-02-28 14:28:04 [scheduling-1] DEBUG c.p.h.n.s.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T14:28:04.116484900, windowEnd=2026-03-02T14:28:04.116484900
2026-02-28 14:28:25 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-28 14:28:25 [http-nio-8080-exec-7] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-02-28 14:28:25 [http-nio-8080-exec-7] INFO  c.p.h.u.services.AppUserServiceImpl - Aktualizována přihlášení uživatele player1@example.com: lastLoginAt=2026-02-28T13:23:39.725214Z, currentLoginAt=2026-02-28T13:28:25.431240600Z
2026-02-28 14:28:25 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player3@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PLAYER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=097ACCB9F195589E0AC1E255F3CC0891], Granted Authorities=[ROLE_PLAYER]]]
2026-02-28 14:28:58 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/matches/54
2026-02-28 14:28:58 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=097ACCB9F195589E0AC1E255F3CC0891], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 14:28:58 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/matches/54
2026-02-28 14:28:58 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDTO cz.phsoft.hokej.match.controllers.MatchController.updateMatch(java.lang.Long,cz.phsoft.hokej.match.dto.MatchDTO); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 14:28:58 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDTO cz.phsoft.hokej.match.controllers.MatchController.updateMatch(java.lang.Long,cz.phsoft.hokej.match.dto.MatchDTO); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 14:28:58 [http-nio-8080-exec-8] INFO  c.p.h.m.services.MatchServiceImpl - UPDATE matchId=54, oldMode=THREE_ON_THREE_WITH_GOALIE, newModeAfterMap=THREE_ON_THREE_NO_GOALIE
2026-02-28 14:29:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/matches/54
2026-02-28 14:29:21 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=097ACCB9F195589E0AC1E255F3CC0891], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 14:29:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/matches/54
2026-02-28 14:29:21 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDTO cz.phsoft.hokej.match.controllers.MatchController.updateMatch(java.lang.Long,cz.phsoft.hokej.match.dto.MatchDTO); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 14:29:21 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDTO cz.phsoft.hokej.match.controllers.MatchController.updateMatch(java.lang.Long,cz.phsoft.hokej.match.dto.MatchDTO); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 14:29:21 [http-nio-8080-exec-9] INFO  c.p.h.m.services.MatchServiceImpl - UPDATE matchId=54, oldMode=THREE_ON_THREE_NO_GOALIE, newModeAfterMap=THREE_ON_THREE_NO_GOALIE
2026-02-28 14:29:49 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/detail
2026-02-28 14:29:49 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=097ACCB9F195589E0AC1E255F3CC0891], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 14:29:49 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/detail
2026-02-28 14:29:49 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDetailDTO cz.phsoft.hokej.match.controllers.MatchController.getMatchDetail(java.lang.Long); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 14:29:49 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDetailDTO cz.phsoft.hokej.match.controllers.MatchController.getMatchDetail(java.lang.Long); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 14:31:16 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-28 14:31:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-28 14:31:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-28 15:30:23 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-28 15:30:23 [main] INFO  c.phsoft.hokej.HobbyHokejApplication - Starting HobbyHokejApplication using Java 17.0.18 with PID 13472 (C:\ProjektyPrace\HobbyHokej\backend\target\classes started by petrh in C:\ProjektyPrace\HobbyHokej)
2026-02-28 15:30:23 [main] DEBUG c.phsoft.hokej.HobbyHokejApplication - Running with Spring Boot v3.2.2, Spring v6.1.3
2026-02-28 15:30:23 [main] INFO  c.phsoft.hokej.HobbyHokejApplication - The following 1 profile is active: "dev"
2026-02-28 15:30:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-28 15:30:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 482 ms. Found 16 JPA repository interfaces.
2026-02-28 15:30:35 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-28 15:30:35 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-28 15:30:35 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-28 15:30:35 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.18]
2026-02-28 15:30:35 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-02-28 15:30:35 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 11750 ms
2026-02-28 15:30:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-28 15:30:36 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@69feb4d9
2026-02-28 15:30:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-28 15:30:37 [main] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2026-02-28 15:30:37 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mariadb://127.0.0.1/hobby_hokej (MariaDB 10.6)
2026-02-28 15:30:37 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 20 migrations (execution time 00:00.474s)
2026-02-28 15:30:38 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `hobby_hokej`: 7
2026-02-28 15:30:38 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `hobby_hokej` is up to date. No migration necessary.
2026-02-28 15:30:38 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-28 15:30:38 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2026-02-28 15:30:38 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-28 15:30:39 [main] INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true
2026-02-28 15:30:40 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-28 15:30:40 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4746fb8c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3be46d9c)
2026-02-28 15:30:40 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@41d877bb) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@39c5a105)
2026-02-28 15:30:40 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@492fa72a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@513fab1e)
2026-02-28 15:30:40 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@53d87b2d) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@470135da)
2026-02-28 15:30:40 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7323dce7) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5f68eec6)
2026-02-28 15:30:40 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4ff9f715) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@118a4d5)
2026-02-28 15:30:40 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6cb194f5) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@74b7497b)
2026-02-28 15:30:40 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@74f649a7) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@308c65e0)
2026-02-28 15:30:40 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@50fa5938) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1e482ecd)
2026-02-28 15:30:44 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-28 15:30:44 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-28 15:30:45 [main] DEBUG c.p.h.security.CurrentPlayerFilter - Filter 'currentPlayerFilter' configured for use
2026-02-28 15:30:46 [main] INFO  c.p.hokej.config.DataInitializer - DataInitializer is enabled. Demo/test data initialization starts.
2026-02-28 15:30:47 [main] INFO  c.p.hokej.config.DataInitializer - Admin user already exists. Initialization is skipped.
2026-02-28 15:30:48 [main] INFO  c.p.hokej.config.DataInitializer - Players already exist. Player initialization is skipped.
2026-02-28 15:30:48 [main] INFO  c.p.hokej.config.DataInitializer - User settings initialization starts.
2026-02-28 15:30:48 [main] INFO  c.p.hokej.config.DataInitializer - User settings have been initialized.
2026-02-28 15:30:48 [main] INFO  c.p.hokej.config.DataInitializer - Player settings initialization starts.
2026-02-28 15:30:49 [main] INFO  c.p.hokej.config.DataInitializer - Player settings have been initialized.
2026-02-28 15:30:49 [main] INFO  c.p.hokej.config.DataInitializer - Seasons already exist. Season initialization is skipped.
2026-02-28 15:30:49 [main] INFO  c.p.hokej.config.DataInitializer - Matches already exist. Match initialization is skipped.
2026-02-28 15:30:49 [main] INFO  c.p.hokej.config.DataInitializer - Match registrations already exist. Registration initialization is skipped.
2026-02-28 15:30:49 [main] INFO  c.p.hokej.config.DataInitializer - Data initialization completed.
2026-02-28 15:30:52 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-28 15:30:54 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6f8af186, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5aaecd25, org.springframework.security.web.context.SecurityContextHolderFilter@4a282c78, org.springframework.security.web.header.HeaderWriterFilter@2f229f60, org.springframework.web.filter.CorsFilter@239fdf8f, org.springframework.security.web.authentication.logout.LogoutFilter@b997735, cz.phsoft.hokej.config.CustomJsonLoginFilter@1acd660d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@141cee26, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ecd3a9b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@22f3b213, org.springframework.security.web.session.SessionManagementFilter@6dc010a2, org.springframework.security.web.access.ExceptionTranslationFilter@5410bbdf, org.springframework.security.web.access.intercept.AuthorizationFilter@504521ae]
2026-02-28 15:30:56 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-02-28 15:30:56 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2026-02-28 15:30:56 [main] INFO  c.phsoft.hokej.HobbyHokejApplication - Started HobbyHokejApplication in 36.538 seconds (process running for 41.07)
2026-02-28 15:30:56 [scheduling-1] DEBUG c.p.h.n.s.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T15:30:56.880715900, windowEnd=2026-03-02T15:30:56.880715900
2026-02-28 15:32:02 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-28 15:32:02 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-02-28 15:32:02 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2026-02-28 15:32:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-28 15:32:03 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-02-28 15:32:03 [http-nio-8080-exec-1] INFO  c.p.h.u.services.AppUserServiceImpl - Aktualizována přihlášení uživatele player1@example.com: lastLoginAt=2026-02-28T13:28:25.431240Z, currentLoginAt=2026-02-28T14:32:03.255009400Z
2026-02-28 15:32:03 [http-nio-8080-exec-1] WARN  o.a.c.util.SessionIdGeneratorBase - Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [192] milliseconds.
2026-02-28 15:32:25 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/detail
2026-02-28 15:32:25 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 15:32:25 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/detail
2026-02-28 15:32:25 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDetailDTO cz.phsoft.hokej.match.controllers.MatchController.getMatchDetail(java.lang.Long); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 15:32:25 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDetailDTO cz.phsoft.hokej.match.controllers.MatchController.getMatchDetail(java.lang.Long); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 15:33:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/matches/54
2026-02-28 15:33:14 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 15:33:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/matches/54
2026-02-28 15:33:15 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDTO cz.phsoft.hokej.match.controllers.MatchController.updateMatch(java.lang.Long,cz.phsoft.hokej.match.dto.MatchDTO); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 15:33:15 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDTO cz.phsoft.hokej.match.controllers.MatchController.updateMatch(java.lang.Long,cz.phsoft.hokej.match.dto.MatchDTO); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 15:33:15 [http-nio-8080-exec-4] INFO  c.p.h.m.s.MatchCommandServiceImpl - UPDATE matchId=54, oldMode=THREE_ON_THREE_NO_GOALIE, newModeAfterMap=THREE_ON_THREE_NO_GOALIE
2026-02-28 15:33:39 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/matches/54
2026-02-28 15:33:39 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 15:33:39 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/matches/54
2026-02-28 15:33:39 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDTO cz.phsoft.hokej.match.controllers.MatchController.updateMatch(java.lang.Long,cz.phsoft.hokej.match.dto.MatchDTO); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 15:33:39 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDTO cz.phsoft.hokej.match.controllers.MatchController.updateMatch(java.lang.Long,cz.phsoft.hokej.match.dto.MatchDTO); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 15:33:39 [http-nio-8080-exec-5] INFO  c.p.h.m.s.MatchCommandServiceImpl - UPDATE matchId=54, oldMode=THREE_ON_THREE_NO_GOALIE, newModeAfterMap=THREE_ON_THREE_NO_GOALIE
2026-02-28 15:33:39 [http-nio-8080-exec-5] INFO  c.p.h.n.s.NotificationServiceImpl - notifyPlayer decision: type=MATCH_REGISTRATION_CREATED, playerId=1, sendUserEmail=false, sendPlayerEmail=true, sendSms=false
2026-02-28 15:33:40 [http-nio-8080-exec-5] DEBUG c.p.h.n.s.InAppNotificationServiceImpl - InAppNotificationService.storeForPlayer: uložena notifikace type=MATCH_REGISTRATION_CREATED userId=2 playerId=1 matchId=null emailTo=player1@example.com smsTo=null
2026-02-28 15:33:40 [http-nio-8080-exec-5] DEBUG c.p.h.n.s.NotificationServiceImpl - DEMO MODE: sendEmailToPlayer – e-mail uložen do DemoNotificationStore, nic se neodesílá
2026-02-28 15:33:40 [http-nio-8080-exec-5] DEBUG c.p.h.n.s.NotificationServiceImpl - notifyPlayer: in-app + e-mail/SMS notifikace zpracována pro type=MATCH_REGISTRATION_CREATED playerId=1
2026-02-28 15:33:53 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/matches/54
2026-02-28 15:33:53 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 15:33:53 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/matches/54
2026-02-28 15:33:53 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDTO cz.phsoft.hokej.match.controllers.MatchController.updateMatch(java.lang.Long,cz.phsoft.hokej.match.dto.MatchDTO); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 15:33:53 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDTO cz.phsoft.hokej.match.controllers.MatchController.updateMatch(java.lang.Long,cz.phsoft.hokej.match.dto.MatchDTO); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 15:33:53 [http-nio-8080-exec-6] INFO  c.p.h.m.s.MatchCommandServiceImpl - UPDATE matchId=54, oldMode=THREE_ON_THREE_NO_GOALIE, newModeAfterMap=THREE_ON_THREE_NO_GOALIE
2026-02-28 15:34:15 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/matches/54
2026-02-28 15:34:15 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 15:34:15 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/matches/54
2026-02-28 15:34:15 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDTO cz.phsoft.hokej.match.controllers.MatchController.updateMatch(java.lang.Long,cz.phsoft.hokej.match.dto.MatchDTO); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 15:34:15 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDTO cz.phsoft.hokej.match.controllers.MatchController.updateMatch(java.lang.Long,cz.phsoft.hokej.match.dto.MatchDTO); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 15:34:15 [http-nio-8080-exec-7] INFO  c.p.h.m.s.MatchCommandServiceImpl - UPDATE matchId=54, oldMode=THREE_ON_THREE_NO_GOALIE, newModeAfterMap=THREE_ON_THREE_NO_GOALIE
2026-02-28 15:34:15 [http-nio-8080-exec-7] INFO  c.p.h.n.s.NotificationServiceImpl - notifyPlayer decision: type=MATCH_REGISTRATION_CREATED, playerId=5, sendUserEmail=false, sendPlayerEmail=true, sendSms=false
2026-02-28 15:34:15 [http-nio-8080-exec-7] DEBUG c.p.h.n.s.InAppNotificationServiceImpl - InAppNotificationService.storeForPlayer: uložena notifikace type=MATCH_REGISTRATION_CREATED userId=6 playerId=5 matchId=null emailTo=player5@example.com smsTo=null
2026-02-28 15:34:15 [http-nio-8080-exec-7] DEBUG c.p.h.n.s.NotificationServiceImpl - DEMO MODE: sendEmailToPlayer – e-mail uložen do DemoNotificationStore, nic se neodesílá
2026-02-28 15:34:15 [http-nio-8080-exec-7] DEBUG c.p.h.n.s.NotificationServiceImpl - notifyPlayer: in-app + e-mail/SMS notifikace zpracována pro type=MATCH_REGISTRATION_CREATED playerId=5
2026-02-28 15:35:01 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/matches/54
2026-02-28 15:35:01 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 15:35:01 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/matches/54
2026-02-28 15:35:01 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDTO cz.phsoft.hokej.match.controllers.MatchController.updateMatch(java.lang.Long,cz.phsoft.hokej.match.dto.MatchDTO); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 15:35:01 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDTO cz.phsoft.hokej.match.controllers.MatchController.updateMatch(java.lang.Long,cz.phsoft.hokej.match.dto.MatchDTO); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 15:35:01 [http-nio-8080-exec-8] INFO  c.p.h.m.s.MatchCommandServiceImpl - UPDATE matchId=54, oldMode=THREE_ON_THREE_NO_GOALIE, newModeAfterMap=FOUR_ON_FOUR_NO_GOALIE
2026-02-28 15:35:34 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/positions/DARK
2026-02-28 15:35:34 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 15:35:34 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/positions/DARK
2026-02-28 15:35:34 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 15:35:34 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 15:35:56 [scheduling-1] DEBUG c.p.h.n.s.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T15:35:56.963454400, windowEnd=2026-03-02T15:35:56.963454400
2026-02-28 15:40:56 [scheduling-1] DEBUG c.p.h.n.s.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T15:40:56.979910, windowEnd=2026-03-02T15:40:56.979910
2026-02-28 15:45:57 [scheduling-1] DEBUG c.p.h.n.s.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T15:45:57.018127400, windowEnd=2026-03-02T15:45:57.018127400
2026-02-28 15:50:57 [scheduling-1] DEBUG c.p.h.n.s.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T15:50:57.041769600, windowEnd=2026-03-02T15:50:57.041769600
2026-02-28 15:54:56 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-28 15:54:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-28 15:54:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-28 16:03:55 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-28 16:03:55 [main] INFO  c.phsoft.hokej.HobbyHokejApplication - Starting HobbyHokejApplication using Java 17.0.18 with PID 8540 (C:\ProjektyPrace\HobbyHokej\backend\target\classes started by petrh in C:\ProjektyPrace\HobbyHokej)
2026-02-28 16:03:55 [main] DEBUG c.phsoft.hokej.HobbyHokejApplication - Running with Spring Boot v3.2.2, Spring v6.1.3
2026-02-28 16:03:55 [main] INFO  c.phsoft.hokej.HobbyHokejApplication - The following 1 profile is active: "dev"
2026-02-28 16:04:00 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-28 16:04:00 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 562 ms. Found 16 JPA repository interfaces.
2026-02-28 16:04:06 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-28 16:04:06 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-28 16:04:06 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-28 16:04:06 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.18]
2026-02-28 16:04:07 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-02-28 16:04:07 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 11255 ms
2026-02-28 16:04:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-28 16:04:08 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@3a38e4dc
2026-02-28 16:04:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-28 16:04:08 [main] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2026-02-28 16:04:08 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mariadb://127.0.0.1/hobby_hokej (MariaDB 10.6)
2026-02-28 16:04:08 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 20 migrations (execution time 00:00.254s)
2026-02-28 16:04:08 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `hobby_hokej`: 7
2026-02-28 16:04:08 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `hobby_hokej` is up to date. No migration necessary.
2026-02-28 16:04:09 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-28 16:04:10 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2026-02-28 16:04:10 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-28 16:04:11 [main] INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true
2026-02-28 16:04:12 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-28 16:04:13 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@74f649a7) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@308c65e0)
2026-02-28 16:04:13 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@50fa5938) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1e482ecd)
2026-02-28 16:04:13 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@58b5f7d2) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@bc52a41)
2026-02-28 16:04:13 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@9f48198) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5615f82d)
2026-02-28 16:04:13 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@21698e5a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3dc2f14)
2026-02-28 16:04:13 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2e8986b6) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5724c7da)
2026-02-28 16:04:13 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3ad2883a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5814b4fb)
2026-02-28 16:04:13 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3aca2579) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4ba13fed)
2026-02-28 16:04:13 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@651cedfb) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@18d22ecf)
2026-02-28 16:04:19 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-28 16:04:19 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-28 16:04:20 [main] DEBUG c.p.h.security.CurrentPlayerFilter - Filter 'currentPlayerFilter' configured for use
2026-02-28 16:04:21 [main] INFO  c.p.hokej.config.DataInitializer - DataInitializer is enabled. Demo/test data initialization starts.
2026-02-28 16:04:22 [main] INFO  c.p.hokej.config.DataInitializer - Admin user already exists. Initialization is skipped.
2026-02-28 16:04:23 [main] INFO  c.p.hokej.config.DataInitializer - Players already exist. Player initialization is skipped.
2026-02-28 16:04:23 [main] INFO  c.p.hokej.config.DataInitializer - User settings initialization starts.
2026-02-28 16:04:23 [main] INFO  c.p.hokej.config.DataInitializer - User settings have been initialized.
2026-02-28 16:04:23 [main] INFO  c.p.hokej.config.DataInitializer - Player settings initialization starts.
2026-02-28 16:04:23 [main] INFO  c.p.hokej.config.DataInitializer - Player settings have been initialized.
2026-02-28 16:04:23 [main] INFO  c.p.hokej.config.DataInitializer - Seasons already exist. Season initialization is skipped.
2026-02-28 16:04:23 [main] INFO  c.p.hokej.config.DataInitializer - Matches already exist. Match initialization is skipped.
2026-02-28 16:04:23 [main] INFO  c.p.hokej.config.DataInitializer - Match registrations already exist. Registration initialization is skipped.
2026-02-28 16:04:23 [main] INFO  c.p.hokej.config.DataInitializer - Data initialization completed.
2026-02-28 16:04:25 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-28 16:04:26 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6a7c1725, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@756476a3, org.springframework.security.web.context.SecurityContextHolderFilter@11303cb, org.springframework.security.web.header.HeaderWriterFilter@219aab91, org.springframework.web.filter.CorsFilter@65e4ee59, org.springframework.security.web.authentication.logout.LogoutFilter@5aaecd25, cz.phsoft.hokej.config.CustomJsonLoginFilter@4746d52d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@26e74d50, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6bdc984, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4d0927df, org.springframework.security.web.session.SessionManagementFilter@64001530, org.springframework.security.web.access.ExceptionTranslationFilter@5a69f1ef, org.springframework.security.web.access.intercept.AuthorizationFilter@24a696c0]
2026-02-28 16:04:27 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-02-28 16:04:27 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2026-02-28 16:04:27 [main] INFO  c.phsoft.hokej.HobbyHokejApplication - Started HobbyHokejApplication in 33.731 seconds (process running for 35.233)
2026-02-28 16:04:27 [scheduling-1] DEBUG c.p.h.n.s.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T16:04:27.687058200, windowEnd=2026-03-02T16:04:27.687058200
2026-02-28 16:04:33 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-28 16:04:33 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-02-28 16:04:33 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2026-02-28 16:04:33 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-28 16:04:34 [http-nio-8080-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-02-28 16:04:34 [http-nio-8080-exec-2] INFO  c.p.h.u.services.AppUserServiceImpl - Aktualizována přihlášení uživatele player1@example.com: lastLoginAt=2026-02-28T14:32:03.255009Z, currentLoginAt=2026-02-28T15:04:34.359016400Z
2026-02-28 16:04:34 [http-nio-8080-exec-2] WARN  o.a.c.util.SessionIdGeneratorBase - Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [198] milliseconds.
2026-02-28 16:04:47 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/detail
2026-02-28 16:04:47 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 16:04:47 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/detail
2026-02-28 16:04:47 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDetailDTO cz.phsoft.hokej.match.controllers.MatchController.getMatchDetail(java.lang.Long); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 16:04:48 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDetailDTO cz.phsoft.hokej.match.controllers.MatchController.getMatchDetail(java.lang.Long); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 16:05:05 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/positions
2026-02-28 16:05:05 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 16:05:05 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/positions
2026-02-28 16:05:05 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getPositionOverview(java.lang.Long); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 16:05:05 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getPositionOverview(java.lang.Long); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 16:05:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/positions/DARK
2026-02-28 16:05:09 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 16:05:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/positions/DARK
2026-02-28 16:05:09 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 16:05:09 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 16:05:26 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/matches/54
2026-02-28 16:05:26 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 16:05:26 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/matches/54
2026-02-28 16:05:26 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDTO cz.phsoft.hokej.match.controllers.MatchController.updateMatch(java.lang.Long,cz.phsoft.hokej.match.dto.MatchDTO); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 16:05:26 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDTO cz.phsoft.hokej.match.controllers.MatchController.updateMatch(java.lang.Long,cz.phsoft.hokej.match.dto.MatchDTO); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 16:05:26 [http-nio-8080-exec-6] INFO  c.p.h.m.s.MatchCommandServiceImpl - UPDATE matchId=54, oldMode=FOUR_ON_FOUR_NO_GOALIE, newModeAfterMap=FOUR_ON_FOUR_NO_GOALIE
2026-02-28 16:05:26 [http-nio-8080-exec-6] INFO  c.p.h.n.s.NotificationServiceImpl - notifyPlayer decision: type=MATCH_REGISTRATION_CREATED, playerId=1, sendUserEmail=false, sendPlayerEmail=true, sendSms=false
2026-02-28 16:05:26 [http-nio-8080-exec-6] DEBUG c.p.h.n.s.InAppNotificationServiceImpl - InAppNotificationService.storeForPlayer: uložena notifikace type=MATCH_REGISTRATION_CREATED userId=2 playerId=1 matchId=null emailTo=player1@example.com smsTo=null
2026-02-28 16:05:26 [http-nio-8080-exec-6] DEBUG c.p.h.n.s.NotificationServiceImpl - DEMO MODE: sendEmailToPlayer – e-mail uložen do DemoNotificationStore, nic se neodesílá
2026-02-28 16:05:26 [http-nio-8080-exec-6] DEBUG c.p.h.n.s.NotificationServiceImpl - notifyPlayer: in-app + e-mail/SMS notifikace zpracována pro type=MATCH_REGISTRATION_CREATED playerId=1
2026-02-28 16:05:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/positions/DARK
2026-02-28 16:05:36 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 16:05:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/positions/DARK
2026-02-28 16:05:36 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 16:05:36 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 16:06:34 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/matches/54
2026-02-28 16:06:34 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 16:06:34 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/matches/54
2026-02-28 16:06:34 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDTO cz.phsoft.hokej.match.controllers.MatchController.updateMatch(java.lang.Long,cz.phsoft.hokej.match.dto.MatchDTO); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 16:06:34 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.match.dto.MatchDTO cz.phsoft.hokej.match.controllers.MatchController.updateMatch(java.lang.Long,cz.phsoft.hokej.match.dto.MatchDTO); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 16:06:34 [http-nio-8080-exec-8] INFO  c.p.h.m.s.MatchCommandServiceImpl - UPDATE matchId=54, oldMode=FOUR_ON_FOUR_NO_GOALIE, newModeAfterMap=FIVE_ON_FIVE_NO_GOALIE
2026-02-28 16:07:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/positions/DARK
2026-02-28 16:07:21 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 16:07:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/positions/DARK
2026-02-28 16:07:21 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 16:07:21 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 16:09:27 [scheduling-1] DEBUG c.p.h.n.s.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T16:09:27.767672900, windowEnd=2026-03-02T16:09:27.767672900
2026-02-28 16:14:27 [scheduling-1] DEBUG c.p.h.n.s.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T16:14:27.788396, windowEnd=2026-03-02T16:14:27.788396
2026-02-28 16:19:27 [scheduling-1] DEBUG c.p.h.n.s.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T16:19:27.812586, windowEnd=2026-03-02T16:19:27.812586
2026-02-28 16:23:12 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-28 16:23:12 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-28 16:23:12 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-28 16:42:25 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-28 16:42:25 [main] INFO  c.phsoft.hokej.HobbyHokejApplication - Starting HobbyHokejApplication using Java 17.0.18 with PID 2712 (C:\ProjektyPrace\HobbyHokej\backend\target\classes started by petrh in C:\ProjektyPrace\HobbyHokej)
2026-02-28 16:42:25 [main] DEBUG c.phsoft.hokej.HobbyHokejApplication - Running with Spring Boot v3.2.2, Spring v6.1.3
2026-02-28 16:42:25 [main] INFO  c.phsoft.hokej.HobbyHokejApplication - The following 1 profile is active: "dev"
2026-02-28 16:42:40 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-28 16:42:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 572 ms. Found 16 JPA repository interfaces.
2026-02-28 16:42:53 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-28 16:42:53 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-28 16:42:53 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-28 16:42:53 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.18]
2026-02-28 16:42:53 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-02-28 16:42:53 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 27599 ms
2026-02-28 16:42:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-28 16:42:56 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@119d4443
2026-02-28 16:42:56 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-28 16:42:56 [main] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2026-02-28 16:42:56 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mariadb://127.0.0.1/hobby_hokej (MariaDB 10.6)
2026-02-28 16:42:57 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 20 migrations (execution time 00:00.210s)
2026-02-28 16:42:57 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `hobby_hokej`: 7
2026-02-28 16:42:57 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `hobby_hokej` is up to date. No migration necessary.
2026-02-28 16:42:57 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-28 16:42:58 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2026-02-28 16:42:58 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-28 16:42:59 [main] INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true
2026-02-28 16:42:59 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-28 16:43:00 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@118a4d5) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6cb194f5)
2026-02-28 16:43:00 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@74b7497b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@74f649a7)
2026-02-28 16:43:00 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@308c65e0) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@50fa5938)
2026-02-28 16:43:00 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1e482ecd) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@58b5f7d2)
2026-02-28 16:43:00 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@bc52a41) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@9f48198)
2026-02-28 16:43:00 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5615f82d) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@21698e5a)
2026-02-28 16:43:00 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3dc2f14) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2e8986b6)
2026-02-28 16:43:00 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5724c7da) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3ad2883a)
2026-02-28 16:43:00 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5814b4fb) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3aca2579)
2026-02-28 16:43:05 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-28 16:43:06 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-28 16:43:08 [main] DEBUG c.p.h.security.CurrentPlayerFilter - Filter 'currentPlayerFilter' configured for use
2026-02-28 16:43:09 [main] INFO  c.p.hokej.config.DataInitializer - DataInitializer is enabled. Demo/test data initialization starts.
2026-02-28 16:43:10 [main] INFO  c.p.hokej.config.DataInitializer - Admin user already exists. Initialization is skipped.
2026-02-28 16:43:11 [main] INFO  c.p.hokej.config.DataInitializer - Players already exist. Player initialization is skipped.
2026-02-28 16:43:11 [main] INFO  c.p.hokej.config.DataInitializer - User settings initialization starts.
2026-02-28 16:43:11 [main] INFO  c.p.hokej.config.DataInitializer - User settings have been initialized.
2026-02-28 16:43:11 [main] INFO  c.p.hokej.config.DataInitializer - Player settings initialization starts.
2026-02-28 16:43:11 [main] INFO  c.p.hokej.config.DataInitializer - Player settings have been initialized.
2026-02-28 16:43:12 [main] INFO  c.p.hokej.config.DataInitializer - Seasons already exist. Season initialization is skipped.
2026-02-28 16:43:12 [main] INFO  c.p.hokej.config.DataInitializer - Matches already exist. Match initialization is skipped.
2026-02-28 16:43:12 [main] INFO  c.p.hokej.config.DataInitializer - Match registrations already exist. Registration initialization is skipped.
2026-02-28 16:43:12 [main] INFO  c.p.hokej.config.DataInitializer - Data initialization completed.
2026-02-28 16:43:14 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-28 16:43:16 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@24a696c0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@78fb4f7f, org.springframework.security.web.context.SecurityContextHolderFilter@1f9b8c23, org.springframework.security.web.header.HeaderWriterFilter@5a69f1ef, org.springframework.web.filter.CorsFilter@6a7c1725, org.springframework.security.web.authentication.logout.LogoutFilter@4a9e6ea7, cz.phsoft.hokej.config.CustomJsonLoginFilter@756476a3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@11303cb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@655e3f4c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65e4ee59, org.springframework.security.web.session.SessionManagementFilter@219aab91, org.springframework.security.web.access.ExceptionTranslationFilter@5c4f07c1, org.springframework.security.web.access.intercept.AuthorizationFilter@3d45ea17]
2026-02-28 16:43:17 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-02-28 16:43:17 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2026-02-28 16:43:17 [main] INFO  c.phsoft.hokej.HobbyHokejApplication - Started HobbyHokejApplication in 56.98 seconds (process running for 62.455)
2026-02-28 16:43:17 [scheduling-1] DEBUG c.p.h.n.s.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T16:43:17.931669700, windowEnd=2026-03-02T16:43:17.931669700
2026-02-28 16:43:51 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-28 16:43:51 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-02-28 16:43:51 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2026-02-28 16:43:51 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-28 16:43:52 [http-nio-8080-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-02-28 16:43:52 [http-nio-8080-exec-2] INFO  c.p.h.u.services.AppUserServiceImpl - Aktualizována přihlášení uživatele player1@example.com: lastLoginAt=2026-02-28T15:04:34.359016Z, currentLoginAt=2026-02-28T15:43:52.201499400Z
2026-02-28 16:43:52 [http-nio-8080-exec-2] WARN  o.a.c.util.SessionIdGeneratorBase - Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [104] milliseconds.
2026-02-28 16:44:10 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/positions/DARK
2026-02-28 16:44:10 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 16:44:10 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/positions/DARK
2026-02-28 16:44:10 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 16:44:10 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 16:45:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/auto-lineup
2026-02-28 16:45:19 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 16:45:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/auto-lineup
2026-02-28 16:46:34 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/positions/DARK
2026-02-28 16:46:34 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 16:46:34 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/positions/DARK
2026-02-28 16:46:34 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 16:46:34 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 16:46:44 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/auto-lineup
2026-02-28 16:46:44 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 16:46:44 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/auto-lineup
2026-02-28 16:46:46 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/auto-lineup
2026-02-28 16:46:46 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 16:46:46 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/auto-lineup
2026-02-28 16:48:18 [scheduling-1] DEBUG c.p.h.n.s.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T16:48:18.088094900, windowEnd=2026-03-02T16:48:18.088094900
2026-02-28 16:48:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/positions/DARK
2026-02-28 16:48:49 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 16:48:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/positions/DARK
2026-02-28 16:48:49 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 16:48:49 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 16:49:06 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/matches/54/auto-lineup
2026-02-28 16:49:06 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 16:49:06 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/matches/54/auto-lineup
2026-02-28 16:49:06 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.match.controllers.MatchController.autoLineup(java.lang.Long); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 16:49:06 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.match.controllers.MatchController.autoLineup(java.lang.Long); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 16:49:16 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/positions/DARK
2026-02-28 16:49:16 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 16:49:16 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/positions/DARK
2026-02-28 16:49:16 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 16:49:16 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 16:49:26 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/positions/DARK
2026-02-28 16:49:26 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 16:49:26 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/positions/DARK
2026-02-28 16:49:26 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 16:49:26 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 16:53:18 [scheduling-1] DEBUG c.p.h.n.s.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T16:53:18.114772500, windowEnd=2026-03-02T16:53:18.114772500
2026-02-28 16:55:28 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-28 16:55:28 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-28 16:55:28 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-28 16:55:46 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-28 16:55:47 [main] INFO  c.phsoft.hokej.HobbyHokejApplication - Starting HobbyHokejApplication using Java 17.0.18 with PID 15728 (C:\ProjektyPrace\HobbyHokej\backend\target\classes started by petrh in C:\ProjektyPrace\HobbyHokej)
2026-02-28 16:55:47 [main] DEBUG c.phsoft.hokej.HobbyHokejApplication - Running with Spring Boot v3.2.2, Spring v6.1.3
2026-02-28 16:55:47 [main] INFO  c.phsoft.hokej.HobbyHokejApplication - The following 1 profile is active: "dev"
2026-02-28 16:55:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-28 16:55:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 691 ms. Found 16 JPA repository interfaces.
2026-02-28 16:55:57 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-28 16:55:57 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-28 16:55:57 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-28 16:55:57 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.18]
2026-02-28 16:55:57 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-02-28 16:55:57 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 10585 ms
2026-02-28 16:55:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-28 16:55:59 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@2b01c689
2026-02-28 16:55:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-28 16:55:59 [main] WARN  o.m.jdbc.message.server.ErrorPacket - Error: 1193-HY000: Unknown system variable 'WSREP_ON'
2026-02-28 16:55:59 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mariadb://127.0.0.1/hobby_hokej (MariaDB 10.6)
2026-02-28 16:55:59 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 20 migrations (execution time 00:00.268s)
2026-02-28 16:55:59 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `hobby_hokej`: 7
2026-02-28 16:55:59 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `hobby_hokej` is up to date. No migration necessary.
2026-02-28 16:56:00 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-28 16:56:00 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2026-02-28 16:56:00 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-28 16:56:01 [main] INFO  o.h.e.b.internal.EnversServiceImpl - Envers integration enabled? : true
2026-02-28 16:56:01 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-28 16:56:02 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3dc2f14) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2e8986b6)
2026-02-28 16:56:02 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5724c7da) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3ad2883a)
2026-02-28 16:56:02 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5814b4fb) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3aca2579)
2026-02-28 16:56:02 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4ba13fed) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@651cedfb)
2026-02-28 16:56:02 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@18d22ecf) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@73d83141)
2026-02-28 16:56:02 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@31443680) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@33356666)
2026-02-28 16:56:02 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3a988299) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@878feb2)
2026-02-28 16:56:02 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1818390b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@67a38)
2026-02-28 16:56:02 [main] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7ef4aceb) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@31b650e9)
2026-02-28 16:56:07 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-28 16:56:08 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-28 16:56:10 [main] DEBUG c.p.h.security.CurrentPlayerFilter - Filter 'currentPlayerFilter' configured for use
2026-02-28 16:56:11 [main] INFO  c.p.hokej.config.DataInitializer - DataInitializer is enabled. Demo/test data initialization starts.
2026-02-28 16:56:11 [main] INFO  c.p.hokej.config.DataInitializer - Admin user already exists. Initialization is skipped.
2026-02-28 16:56:12 [main] INFO  c.p.hokej.config.DataInitializer - Players already exist. Player initialization is skipped.
2026-02-28 16:56:12 [main] INFO  c.p.hokej.config.DataInitializer - User settings initialization starts.
2026-02-28 16:56:12 [main] INFO  c.p.hokej.config.DataInitializer - User settings have been initialized.
2026-02-28 16:56:12 [main] INFO  c.p.hokej.config.DataInitializer - Player settings initialization starts.
2026-02-28 16:56:13 [main] INFO  c.p.hokej.config.DataInitializer - Player settings have been initialized.
2026-02-28 16:56:13 [main] INFO  c.p.hokej.config.DataInitializer - Seasons already exist. Season initialization is skipped.
2026-02-28 16:56:13 [main] INFO  c.p.hokej.config.DataInitializer - Matches already exist. Match initialization is skipped.
2026-02-28 16:56:13 [main] INFO  c.p.hokej.config.DataInitializer - Match registrations already exist. Registration initialization is skipped.
2026-02-28 16:56:13 [main] INFO  c.p.hokej.config.DataInitializer - Data initialization completed.
2026-02-28 16:56:14 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-28 16:56:16 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4936dca9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d332ebc, org.springframework.security.web.context.SecurityContextHolderFilter@37a5ac85, org.springframework.security.web.header.HeaderWriterFilter@4c18b432, org.springframework.web.filter.CorsFilter@56de370d, org.springframework.security.web.authentication.logout.LogoutFilter@6a7c1725, cz.phsoft.hokej.config.CustomJsonLoginFilter@1f6865ca, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2092b072, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@504521ae, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6044311a, org.springframework.security.web.session.SessionManagementFilter@bec2d81, org.springframework.security.web.access.ExceptionTranslationFilter@6cf58989, org.springframework.security.web.access.intercept.AuthorizationFilter@60877629]
2026-02-28 16:56:16 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-02-28 16:56:17 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2026-02-28 16:56:17 [main] INFO  c.phsoft.hokej.HobbyHokejApplication - Started HobbyHokejApplication in 31.907 seconds (process running for 33.155)
2026-02-28 16:56:17 [scheduling-1] DEBUG c.p.h.n.s.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T16:56:17.106331800, windowEnd=2026-03-02T16:56:17.106331800
2026-02-28 16:56:24 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-28 16:56:24 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-02-28 16:56:24 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 7 ms
2026-02-28 16:56:24 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-28 16:56:25 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2026-02-28 16:56:25 [http-nio-8080-exec-1] INFO  c.p.h.u.services.AppUserServiceImpl - Aktualizována přihlášení uživatele player1@example.com: lastLoginAt=2026-02-28T15:43:52.201499Z, currentLoginAt=2026-02-28T15:56:25.128873900Z
2026-02-28 16:56:25 [http-nio-8080-exec-1] WARN  o.a.c.util.SessionIdGeneratorBase - Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [105] milliseconds.
2026-02-28 16:56:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/positions/DARK
2026-02-28 16:56:32 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 16:56:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/positions/DARK
2026-02-28 16:56:32 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 16:56:33 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 16:56:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/matches/54/auto-lineup
2026-02-28 16:56:41 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 16:56:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/matches/54/auto-lineup
2026-02-28 16:56:41 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.match.controllers.MatchController.autoLineup(java.lang.Long); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 16:56:41 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity cz.phsoft.hokej.match.controllers.MatchController.autoLineup(java.lang.Long); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 16:56:47 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/matches/54/positions/DARK
2026-02-28 16:56:47 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=player1@example.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_MANAGER]]]
2026-02-28 16:56:47 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/matches/54/positions/DARK
2026-02-28 16:56:47 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 16:56:47 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public cz.phsoft.hokej.registration.dto.MatchTeamPositionOverviewDTO cz.phsoft.hokej.match.controllers.MatchController.getTeamPositionOverview(java.lang.Long,cz.phsoft.hokej.player.enums.Team); target is of class [cz.phsoft.hokej.match.controllers.MatchController]
2026-02-28 17:00:00 [scheduling-1] DEBUG c.p.h.n.s.NoResponseReminderScheduler - NoResponseReminderScheduler: start processNoResponseReminders(), daysBefore=3
2026-02-28 17:00:00 [scheduling-1] DEBUG c.p.h.n.s.NoResponseReminderScheduler - NoResponseReminderScheduler: hledám zápasy na datum 2026-03-03
2026-02-28 17:00:00 [scheduling-1] DEBUG c.p.h.n.s.NoResponseReminderScheduler - NoResponseReminderScheduler: na datum 2026-03-03 nejsou žádné aktivní zápasy.
2026-02-28 17:00:00 [scheduling-1] DEBUG c.p.h.n.s.NoResponseReminderScheduler - NoResponseReminderScheduler: žádné NO_RESPONSE cíle pro připomenutí.
2026-02-28 17:01:17 [scheduling-1] DEBUG c.p.h.n.s.MatchReminderScheduler - MatchReminderScheduler: start, now=2026-02-28T17:01:17.215254100, windowEnd=2026-03-02T17:01:17.215254100
2026-02-28 17:05:24 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-28 17:05:24 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-28 17:05:24 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
